var a0_0xad6d49=a0_0x6a3d;(function(_0x24f8d5,_0x4cfce1){var _0x5d70be=a0_0x6a3d,_0xdd9ca5=_0x24f8d5();while(!![]){try{var _0x351e05=-parseInt(_0x5d70be(0x140))/0x1+-parseInt(_0x5d70be(0x12f))/0x2+parseInt(_0x5d70be(0x114))/0x3*(parseInt(_0x5d70be(0xfe))/0x4)+parseInt(_0x5d70be(0x1a5))/0x5+-parseInt(_0x5d70be(0x115))/0x6*(parseInt(_0x5d70be(0x15a))/0x7)+parseInt(_0x5d70be(0x19a))/0x8*(-parseInt(_0x5d70be(0x13f))/0x9)+parseInt(_0x5d70be(0x126))/0xa;if(_0x351e05===_0x4cfce1)break;else _0xdd9ca5['push'](_0xdd9ca5['shift']());}catch(_0x42064e){_0xdd9ca5['push'](_0xdd9ca5['shift']());}}}(a0_0x4748,0x91705),document[a0_0xad6d49(0x1bc)](a0_0xad6d49(0x118),function(){var _0x483cfa=a0_0xad6d49;initDatePicker(),fetchAndisplayClassBooked(),updateHeaderDate(document[_0x483cfa(0x165)]('datePicker')['value']);var _0x343538=document[_0x483cfa(0x165)](_0x483cfa(0x175));_0x343538['addEventListener']('click',function(){fetchAndisplayClassBooked();});var _0x343538=document['getElementById'](_0x483cfa(0x173));_0x343538['addEventListener']('click',function(){fetchAndDisplayClassesAvailable();});const _0xc0a9a=document[_0x483cfa(0x165)]('datePicker'),_0x3155b5=document['getElementById']('prevDay'),_0x55e535=document[_0x483cfa(0x165)](_0x483cfa(0x13c));_0x3155b5[_0x483cfa(0x1bc)](_0x483cfa(0x12d),function(){var _0xb29f5c=_0x483cfa;_0xa5c83a(-0x1);var _0x13a9bb=document['getElementById'](_0xb29f5c(0x19e))['value'];saveDatePickerSessionStorage(_0x13a9bb),updateHeaderDate(_0x13a9bb),fetchAndDisplayClassesAvailable();}),_0x55e535[_0x483cfa(0x1bc)]('click',function(){var _0xc0ea0b=_0x483cfa;_0xa5c83a(0x1);var _0x4e8812=document[_0xc0ea0b(0x165)](_0xc0ea0b(0x19e))[_0xc0ea0b(0x1a3)];saveDatePickerSessionStorage(_0x4e8812),updateHeaderDate(_0x4e8812),fetchAndDisplayClassesAvailable();}),_0xc0a9a[_0x483cfa(0x1bc)](_0x483cfa(0x1a9),function(){var _0x443956=_0x483cfa,_0x2e6343=document[_0x443956(0x165)](_0x443956(0x19e))[_0x443956(0x1a3)];saveDatePickerSessionStorage(_0x2e6343),updateHeaderDate(_0x2e6343),fetchAndDisplayClassesAvailable();});function _0xa5c83a(_0x517432){var _0x3308a5=_0x483cfa;const _0x24b383=new Date(_0xc0a9a[_0x3308a5(0x1a3)]+'T00:00:00');_0x24b383[_0x3308a5(0x119)](_0x24b383[_0x3308a5(0xfb)]()+_0x517432),_0xc0a9a[_0x3308a5(0x1a3)]=formatDate(_0x24b383);}var _0x185523=document[_0x483cfa(0x15f)]('.location-option');_0x185523[_0x483cfa(0x1b9)](function(_0x29152b){var _0x1518bc=_0x483cfa;_0x29152b[_0x1518bc(0x1bc)](_0x1518bc(0x12d),function(){var _0x2a28ea=_0x1518bc;_0x185523[_0x2a28ea(0x1b9)](function(_0x3a879d){var _0x4d178d=_0x2a28ea;_0x3a879d[_0x4d178d(0x16e)]['remove'](_0x4d178d(0x176));}),this[_0x2a28ea(0x16e)]['add'](_0x2a28ea(0x176)),fetchAndDisplayClassesAvailable();});});var _0x4c0df9=document[_0x483cfa(0x15f)](_0x483cfa(0x129));_0x4c0df9[_0x483cfa(0x1b9)](function(_0x3b4670){var _0x500800=_0x483cfa;_0x3b4670[_0x500800(0x1bc)](_0x500800(0x12d),function(){var _0x458b90=_0x500800;this['classList'][_0x458b90(0x142)](_0x458b90(0x176)),fetchAndDisplayClassesAvailable();});}),document[_0x483cfa(0x165)](_0x483cfa(0x1ac))['addEventListener'](_0x483cfa(0x12d),function(_0x4e2b00){var _0x372a37=_0x483cfa;if(_0x4e2b00[_0x372a37(0x13a)]&&_0x4e2b00[_0x372a37(0x13a)][_0x372a37(0x130)](_0x372a37(0x14b))){var _0x4c2619=_0x4e2b00[_0x372a37(0x13a)]['getAttribute'](_0x372a37(0x12e));cancelBooking_resolve(_0x4c2619)['then'](()=>{fetchAndDisplayClassesAvailable();})['catch'](_0x379fbb=>{var _0x50cb30=_0x372a37;console[_0x50cb30(0x17b)]('EventListener\x20-\x20Cancellation\x20error:',_0x379fbb);});}else{if(_0x4e2b00[_0x372a37(0x13a)]&&_0x4e2b00['target'][_0x372a37(0x130)]('.book-button'))bookClass(_0x4e2b00[_0x372a37(0x13a)]),fetchAndDisplayClassesAvailable();else{if(_0x4e2b00['target']&&_0x4e2b00[_0x372a37(0x13a)]['closest'](_0x372a37(0x113))){var _0x34937a=_0x4e2b00[_0x372a37(0x13a)][_0x372a37(0x150)](_0x372a37(0x113));if(_0x4e2b00[_0x372a37(0x13a)][_0x372a37(0x150)]('.attendees')){_0x34937a['querySelectorAll'](_0x372a37(0x197))[_0x372a37(0x1b9)](function(_0x221aef){var _0x3e39ee=_0x372a37;_0x221aef[_0x3e39ee(0x16e)]['remove']('enlarged');});return;}var _0x406eb0=_0x34937a[_0x372a37(0x172)](_0x372a37(0x10e))||_0x34937a['querySelector'](_0x372a37(0x14b))||_0x34937a[_0x372a37(0x172)](_0x372a37(0x179));if(_0x406eb0){var _0x118e62=_0x406eb0[_0x372a37(0xff)](_0x372a37(0x195)),_0x7c9ea4=_0x406eb0[_0x372a37(0xff)](_0x372a37(0x1ba)),_0x5c721f=_0x34937a['querySelector'](_0x372a37(0x185))[_0x372a37(0x18b)],_0x4760e0=_0x34937a['querySelector'](_0x372a37(0x1ad))[_0x372a37(0x18b)],_0x2ff4b7=document[_0x372a37(0x12b)](_0x372a37(0x1b7));_0x2ff4b7[_0x372a37(0x189)](_0x372a37(0x195),_0x118e62),_0x2ff4b7[_0x372a37(0x189)]('data-class-date',_0x7c9ea4),_0x2ff4b7[_0x372a37(0x189)]('data-class-time',_0x5c721f),_0x2ff4b7[_0x372a37(0x189)]('data-class-name',_0x4760e0),checkAttendees(_0x2ff4b7,_0x34937a);}else console[_0x372a37(0x17b)]('No\x20book-button\x20or\x20cancel-button\x20found\x20in\x20booking-item.');}}}}),document[_0x483cfa(0x165)](_0x483cfa(0x131))[_0x483cfa(0x1bc)](_0x483cfa(0x12d),function(_0xa94321){var _0x1cd8c2=_0x483cfa;if(_0xa94321[_0x1cd8c2(0x13a)]&&_0xa94321['target'][_0x1cd8c2(0x130)]('.cancel-button')){var _0x103784=_0xa94321[_0x1cd8c2(0x13a)][_0x1cd8c2(0xff)]('data-member-booking-id');cancelBooking_resolve(_0x103784)[_0x1cd8c2(0x191)](()=>{fetchAndisplayClassBooked();})[_0x1cd8c2(0x145)](_0x1539a3=>{var _0x365673=_0x1cd8c2;console[_0x365673(0x17b)](_0x365673(0x19b),_0x1539a3);});}});}));function initDatePicker(){var _0x42ddb9=a0_0xad6d49;const _0x3ad07f=document[_0x42ddb9(0x165)](_0x42ddb9(0x19e));let _0x3d4ac2=sessionStorage[_0x42ddb9(0x181)]('selectedDate'),_0x4ccefa=sessionStorage[_0x42ddb9(0x181)](_0x42ddb9(0x133));_0x3d4ac2&&_0x4ccefa&&isWithinValidityPeriod(_0x4ccefa,0.5)?_0x3ad07f[_0x42ddb9(0x1a3)]=_0x3d4ac2:(currentDate=getLocalDate(),_0x3ad07f['value']=currentDate,saveDatePickerSessionStorage(currentDate));}function isWithinValidityPeriod(_0x559945,_0x2484a6){var _0x5d35e4=a0_0xad6d49;const _0xd51a3d=new Date()[_0x5d35e4(0x16c)](),_0x1668e7=(_0xd51a3d-_0x559945)/(0x3e8*0x3c*0x3c);return _0x1668e7<=_0x2484a6;}function formatDate(_0x5ac3ff){var _0x3282f8=a0_0xad6d49;let _0x516ae5=new Date(_0x5ac3ff),_0x321442=''+(_0x516ae5[_0x3282f8(0x144)]()+0x1),_0xc4a00=''+_0x516ae5[_0x3282f8(0xfb)](),_0x2eb972=_0x516ae5['getFullYear']();if(_0x321442[_0x3282f8(0x1a4)]<0x2)_0x321442='0'+_0x321442;if(_0xc4a00[_0x3282f8(0x1a4)]<0x2)_0xc4a00='0'+_0xc4a00;return[_0x2eb972,_0x321442,_0xc4a00][_0x3282f8(0x125)]('-');}function updateHeaderDate(_0x4f92d0){var _0x34d0d7=a0_0xad6d49;const _0x4dfe54=document['getElementById'](_0x34d0d7(0x128));if(!_0x4dfe54){console[_0x34d0d7(0x17b)](_0x34d0d7(0x136));return;}const _0x8714d7=new Date(_0x4f92d0),_0x259065=_0x8714d7[_0x34d0d7(0xfb)](),_0x2a0b7c=_0x8714d7[_0x34d0d7(0x158)](_0x34d0d7(0x132),{'month':_0x34d0d7(0x121)}),_0x1e62ca=_0x8714d7[_0x34d0d7(0x158)](_0x34d0d7(0x132),{'weekday':_0x34d0d7(0x121)});function _0x33aca0(_0x315f2){if(_0x315f2>0x3&&_0x315f2<0x15)return'th';switch(_0x315f2%0xa){case 0x1:return'st';case 0x2:return'nd';case 0x3:return'rd';default:return'th';}}const _0x4b080b=_0x1e62ca+'\x20'+(_0x259065<0xa?'0':'')+_0x259065+_0x33aca0(_0x259065)+'\x20'+_0x2a0b7c;_0x4dfe54[_0x34d0d7(0x18b)]=_0x4b080b;}function getLocalDate(){var _0x27d7ef=a0_0xad6d49;const _0x340849=new Date(),_0x36f770=_0x340849[_0x27d7ef(0x1b0)]()*0xea60,_0x4c94d2=new Date(_0x340849-_0x36f770)['toISOString']()[_0x27d7ef(0x198)](0x0,0xa);return _0x4c94d2;}function saveDatePickerSessionStorage(_0xe4c67c){var _0x2343a8=a0_0xad6d49;sessionStorage['setItem'](_0x2343a8(0x174),_0xe4c67c),timestamp=new Date()[_0x2343a8(0x16c)](),sessionStorage[_0x2343a8(0x152)](_0x2343a8(0x133),timestamp);}function bookClass(_0xbcc3dc){var _0x328bd2=a0_0xad6d49,_0x304c85=_0xbcc3dc[_0x328bd2(0xff)](_0x328bd2(0x195)),_0x1d72a2=_0xbcc3dc[_0x328bd2(0xff)](_0x328bd2(0x1ba)),_0x3a56c8=_0xbcc3dc['getAttribute'](_0x328bd2(0x155)),_0x4a811d=localStorage['getItem'](_0x328bd2(0x199)),_0x5f2278=localStorage[_0x328bd2(0x181)]('access_token'),_0x3fc3df='https://crossfit168.clubfit.net.au/api/v1/booking/book-class-v2',_0x1be93a={'classScheduleId':_0x304c85,'classDateTime':_0x1d72a2,'className':_0x3a56c8,'userId':_0x4a811d,'onBehalfBookingReference':'','onBehalfBookFor':''},_0x2cfba0=new XMLHttpRequest();_0x2cfba0[_0x328bd2(0x146)]('POST',_0x3fc3df,!![]),_0x2cfba0[_0x328bd2(0x117)](_0x328bd2(0x101),_0x328bd2(0x159)),_0x2cfba0['setRequestHeader'](_0x328bd2(0x178),_0x328bd2(0x159)),_0x2cfba0[_0x328bd2(0x117)](_0x328bd2(0x16d),_0x328bd2(0x102)+_0x5f2278),_0x2cfba0[_0x328bd2(0x10a)]=function(){var _0x1ddf08=_0x328bd2,_0x42ae50;try{_0x42ae50=JSON[_0x1ddf08(0x103)](_0x2cfba0[_0x1ddf08(0x186)]);}catch(_0x3abca0){_0x42ae50={'errors':{'message':_0x1ddf08(0x14f)}};}_0x2cfba0[_0x1ddf08(0x1a7)]>=0xc8&&_0x2cfba0[_0x1ddf08(0x1a7)]<0x12c&&_0x42ae50[_0x1ddf08(0x19c)]===0xc8?fetchAndDisplayClassesAvailable():(console['log'](_0x1ddf08(0x183)+_0x2cfba0[_0x1ddf08(0x1a7)]+'response.messageFields'),alert(_0x42ae50['errors'][_0x1ddf08(0x1a2)]),errorAPICheckLogin(function(_0x24ce8f){var _0x38b468=_0x1ddf08;!_0x24ce8f&&console['error'](_0x38b468(0x10b));}));},_0x2cfba0['onerror']=function(){var _0x17f35f=_0x328bd2;alert(_0x17f35f(0x161)),errorAPICheckLogin(function(_0x44c78b){var _0x32f6e6=_0x17f35f;!_0x44c78b&&console[_0x32f6e6(0x17b)]('User\x20is\x20not\x20logged\x20in,\x20redirecting\x20to\x20login\x20page.');});},_0x2cfba0['send'](JSON[_0x328bd2(0x11c)](_0x1be93a));}function displayErrorMessage(_0x7aa101,_0x322a6a){var _0xfe8170=a0_0xad6d49;clearErrorMessage(_0x7aa101);var _0x23e0a7=document[_0xfe8170(0x12b)](_0xfe8170(0x15c));_0x23e0a7[_0xfe8170(0x1b8)]=_0xfe8170(0x122),_0x23e0a7['textContent']=_0x322a6a,_0x7aa101[_0xfe8170(0x15b)]['insertBefore'](_0x23e0a7,_0x7aa101[_0xfe8170(0x13d)]);}function clearErrorMessage(_0x5e7b52){var _0x105a2c=a0_0xad6d49,_0x561922=_0x5e7b52['nextSibling'];_0x561922&&_0x561922['className']===_0x105a2c(0x122)&&_0x561922['remove']();}function showInlineAttendees(_0x318b9a,_0x384870){var _0x4a1f90=a0_0xad6d49,_0x263f2c=_0x384870[_0x4a1f90(0x172)]('.attendees');if(!_0x263f2c)_0x263f2c=document[_0x4a1f90(0x12b)](_0x4a1f90(0x15c)),_0x263f2c[_0x4a1f90(0x1b8)]=_0x4a1f90(0x1a8),_0x384870['appendChild'](_0x263f2c),_0x263f2c[_0x4a1f90(0x151)][_0x4a1f90(0x188)]='1\x20/\x20-1';else{_0x263f2c[_0x4a1f90(0x151)][_0x4a1f90(0x14c)]=_0x263f2c[_0x4a1f90(0x151)][_0x4a1f90(0x14c)]==='block'?_0x4a1f90(0xfc):_0x4a1f90(0x139);return;}var _0x1f8f59='';Array[_0x4a1f90(0x190)](_0x318b9a)&&_0x318b9a[_0x4a1f90(0x1a4)]>0x0?(_0x318b9a[_0x4a1f90(0xfd)]((_0x5ee917,_0x3846df)=>_0x5ee917[_0x4a1f90(0x1bb)]['localeCompare'](_0x3846df[_0x4a1f90(0x1bb)])),_0x318b9a['forEach'](function(_0x269532){var _0x1a4823=_0x4a1f90,_0x5652d6=_0x269532[_0x1a4823(0x1bb)][_0x1a4823(0x135)]('\x20')[0x0];_0x1f8f59+=_0x1a4823(0x154)+_0x269532[_0x1a4823(0x1aa)]+_0x1a4823(0x120)+_0x5652d6+_0x1a4823(0x196);})):_0x1f8f59+=_0x4a1f90(0x170),_0x263f2c[_0x4a1f90(0x164)]=_0x1f8f59,_0x263f2c['style'][_0x4a1f90(0x14c)]=_0x4a1f90(0x139),_0x263f2c[_0x4a1f90(0x15f)](_0x4a1f90(0x197))['forEach'](function(_0x40f6b0){var _0x4d2c16=_0x4a1f90;_0x40f6b0[_0x4d2c16(0x1bc)](_0x4d2c16(0x12d),function(_0x4ced2e){var _0x453fd4=_0x4d2c16;_0x40f6b0['classList'][_0x453fd4(0x1b5)](_0x453fd4(0x123))?_0x40f6b0['classList']['remove'](_0x453fd4(0x123)):(_0x263f2c['querySelectorAll']('.attendee-photo')[_0x453fd4(0x1b9)](function(_0x4c1f83){var _0xe7da60=_0x453fd4;_0x4c1f83[_0xe7da60(0x16e)][_0xe7da60(0x168)]('enlarged');}),_0x40f6b0[_0x453fd4(0x16e)]['add'](_0x453fd4(0x123))),_0x4ced2e[_0x453fd4(0x169)]();});}),_0x263f2c[_0x4a1f90(0x1bc)](_0x4a1f90(0x12d),function(_0x565c1f){var _0x55763e=_0x4a1f90;_0x263f2c[_0x55763e(0x15f)](_0x55763e(0x197))[_0x55763e(0x1b9)](function(_0x493c20){var _0x2a4df0=_0x55763e;_0x493c20[_0x2a4df0(0x16e)]['remove'](_0x2a4df0(0x123));}),_0x565c1f['stopPropagation']();}),document['addEventListener']('click',function(_0x2594f6){var _0x499860=_0x4a1f90;!_0x384870[_0x499860(0x1b5)](_0x2594f6['target'])&&_0x263f2c[_0x499860(0x15f)]('.attendee-photo')['forEach'](function(_0x16f509){var _0x53a201=_0x499860;_0x16f509[_0x53a201(0x16e)][_0x53a201(0x168)](_0x53a201(0x123));});});}function checkAttendees(_0x1d47ce,_0x56fff0){var _0xd5588c=a0_0xad6d49,_0x56d069=_0x1d47ce['getAttribute'](_0xd5588c(0x195)),_0x13950b=_0x1d47ce[_0xd5588c(0xff)]('data-class-date'),_0x5b6f6d=_0x1d47ce[_0xd5588c(0xff)](_0xd5588c(0x12c)),_0x2c1a48=localStorage[_0xd5588c(0x181)](_0xd5588c(0x167)),_0x4d1b7b='https://crossfit168.clubfit.net.au/api/v1/booking/class-participants',_0xb087d2={'classScheduleId':_0x56d069,'selectedDate':_0x13950b,'classTime':_0x5b6f6d},_0x4f1400=new XMLHttpRequest();_0x4f1400[_0xd5588c(0x146)](_0xd5588c(0x14e),_0x4d1b7b,!![]),_0x4f1400[_0xd5588c(0x117)](_0xd5588c(0x101),_0xd5588c(0x159)),_0x4f1400[_0xd5588c(0x117)](_0xd5588c(0x178),_0xd5588c(0x159)),_0x4f1400[_0xd5588c(0x117)](_0xd5588c(0x16d),_0xd5588c(0x102)+_0x2c1a48),_0x4f1400[_0xd5588c(0x10a)]=function(){var _0x390a55=_0xd5588c;if(_0x4f1400['status']>=0xc8&&_0x4f1400['status']<0x12c){var _0x11d8e6=JSON[_0x390a55(0x103)](_0x4f1400[_0x390a55(0x186)]),_0xce7c42=_0x11d8e6['payload'];showInlineAttendees(_0xce7c42,_0x56fff0);}else console['error'](_0x390a55(0x134),_0x4f1400[_0x390a55(0x1a7)]),errorAPICheckLogin();},_0x4f1400['onerror']=function(){var _0x3e70e8=_0xd5588c;console[_0x3e70e8(0x17b)]('checkAttendees\x20-\x20Network\x20error\x20while\x20checking\x20attendees'),errorAPICheckLogin();},_0x4f1400[_0xd5588c(0x184)](JSON[_0xd5588c(0x11c)](_0xb087d2));}function cancelBooking_resolve(_0xfe2f33,_0x5dbedf=0x0){return new Promise((_0x4b9116,_0x458d40)=>{var _0x36fe3c=a0_0x6a3d,_0x5e38bf=localStorage[_0x36fe3c(0x181)]('access_token'),_0x1eb22a=_0x36fe3c(0x192)+_0xfe2f33,_0x34afdd=new XMLHttpRequest();_0x34afdd[_0x36fe3c(0x146)]('POST',_0x1eb22a,!![]),_0x34afdd['setRequestHeader'](_0x36fe3c(0x101),_0x36fe3c(0x159)),_0x34afdd[_0x36fe3c(0x117)](_0x36fe3c(0x178),_0x36fe3c(0x159)),_0x34afdd['setRequestHeader']('Authorization','Bearer\x20'+_0x5e38bf),_0x34afdd[_0x36fe3c(0x10a)]=function(){var _0x51fd6c=_0x36fe3c;_0x34afdd[_0x51fd6c(0x1a7)]>=0xc8&&_0x34afdd[_0x51fd6c(0x1a7)]<0x12c&&response[_0x51fd6c(0x19c)]===0xc8?_0x4b9116(_0x34afdd[_0x51fd6c(0x186)]):(console[_0x51fd6c(0x17b)](_0x51fd6c(0x187),_0x34afdd[_0x51fd6c(0x1a7)]+_0x51fd6c(0x17c)+_0x34afdd[_0x51fd6c(0x186)]),_0x5dbedf<0x1?errorAPICheckLogin(function(_0x211cb2){var _0x4c3800=_0x51fd6c;_0x211cb2?cancelBooking_resolve(_0xfe2f33,_0x5dbedf+0x1)['then'](_0x4b9116)[_0x4c3800(0x145)](_0x458d40):_0x458d40(new Error(_0x4c3800(0x138)));}):_0x458d40(new Error(_0x51fd6c(0x16f))));},_0x34afdd[_0x36fe3c(0x127)]=function(){var _0x107cf0=_0x36fe3c;console[_0x107cf0(0x17b)](_0x107cf0(0x160)),_0x5dbedf<0x1?errorAPICheckLogin(function(_0x45ed76){var _0x3131ce=_0x107cf0;_0x45ed76?cancelBooking_resolve(_0xfe2f33,_0x5dbedf+0x1)[_0x3131ce(0x191)](_0x4b9116)[_0x3131ce(0x145)](_0x458d40):_0x458d40(new Error(_0x3131ce(0x163)));}):_0x458d40(new Error(_0x107cf0(0x177)));},_0x34afdd[_0x36fe3c(0x184)](_0x36fe3c(0x104));});}function fetchAndDisplayClassesAvailable(){var _0x568a6e=a0_0xad6d49,_0x1d12ff=document['querySelectorAll'](_0x568a6e(0x111));if(_0x1d12ff[_0x568a6e(0x1a4)]===0x0){console[_0x568a6e(0x137)](_0x568a6e(0x13e));return;}var _0x4d0732=document[_0x568a6e(0x165)]('datePicker')[_0x568a6e(0x1a3)],_0x243714=getLocalDate(),_0x239571={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x546b29=Array[_0x568a6e(0x110)](_0x1d12ff)[_0x568a6e(0x1ab)](_0x43c0b2=>{var _0x3cd129=_0x43c0b2['getAttribute']('data-location'),_0xf53eab=_0x239571[_0x3cd129];return _0xf53eab;}),_0x55c78e=localStorage[_0x568a6e(0x181)](_0x568a6e(0x199)),_0x59382d={'UserId':_0x55c78e,'clubId':_0x546b29[0x0],'selectedDate':_0x4d0732,'classType':0x0,'accountId':_0x546b29[0x0]};if(_0x4d0732<_0x243714)displayClassAvailable([]);else{var _0x57d246=_0x568a6e(0x108);makeApiRequest(_0x57d246,_0x568a6e(0x14e),_0x59382d,function(_0x1d1ed8){var _0x12703d=_0x568a6e;displayClassAvailable(_0x1d1ed8[_0x12703d(0x17f)]);});}}function displayClassAvailable(_0x5a9c15){var _0x46800b=a0_0xad6d49,_0x3cd3a2=document['getElementById']('class-available');let _0x405757=getSelectedClassOptions(),_0x370e95='',_0x4cf72b=document[_0x46800b(0x165)](_0x46800b(0x19e))[_0x46800b(0x1a3)];if(_0x5a9c15['length']===0x0)_0x370e95=_0x46800b(0x17a);else{const _0x49b82f=/crossfit|cf/i,_0xaf194e=/weightlifting/i;let _0x43ed82=_0x5a9c15[_0x46800b(0x18a)](_0xee3860=>{var _0xf5a658=_0x46800b;const _0x535fa1=_0x49b82f[_0xf5a658(0x112)](_0xee3860[_0xf5a658(0x1b8)]),_0xe1698b=_0xaf194e[_0xf5a658(0x112)](_0xee3860['className']);if(_0x405757[_0xf5a658(0x109)]('CrossFit')&&_0x535fa1)return!![];if(_0x405757[_0xf5a658(0x109)](_0xf5a658(0x10c))&&_0xe1698b)return!![];if(_0x405757[_0xf5a658(0x109)](_0xf5a658(0x105))&&!_0x535fa1&&!_0xe1698b)return!![];if(_0x405757[_0xf5a658(0x1a4)]===0x0||_0x405757[_0xf5a658(0x1a4)]===0x3||_0x405757[_0xf5a658(0x109)](_0xf5a658(0x17d)))return!![];if(_0x405757[_0xf5a658(0x1a4)]===0x2&&!_0x405757[_0xf5a658(0x109)](_0xf5a658(0x105)))return _0x535fa1||_0xe1698b;return![];});_0x43ed82[_0x46800b(0x1a4)]===0x0?_0x370e95=_0x46800b(0x107):_0x43ed82[_0x46800b(0x1b9)](_0x1239dc=>{var _0x333119=_0x46800b;const _0x1b95bf=_0x1239dc[_0x333119(0x141)]-_0x1239dc['totalBooked'],_0x317257=_0x1b95bf===0x1?_0x333119(0x15d):'spots';_0x370e95+=_0x333119(0x1ae)+_0x1239dc['classTime']+_0x333119(0x149)+_0x1239dc['className']+_0x333119(0x116)+(_0x1239dc[_0x333119(0x10d)]===_0x333119(0x148)?_0x333119(0x162)+_0x1239dc[_0x333119(0x19d)]+_0x333119(0x15e)+_0x1239dc[_0x333119(0x156)]+_0x333119(0x193)+_0x4cf72b+_0x333119(0x171)+_0x1239dc[_0x333119(0x1b8)]+'\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spotsleft\x22>'+_0x1b95bf+'\x20'+_0x317257+_0x333119(0x1a0):_0x1b95bf>0x0?'<button\x20class=\x22book-button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22'+_0x1239dc[_0x333119(0x156)]+_0x333119(0x1b1)+_0x4cf72b+_0x333119(0x1a1)+_0x1239dc[_0x333119(0x1b8)]+_0x333119(0x11f)+_0x1b95bf+'\x20'+_0x317257+'\x20left</div>':_0x333119(0x16b)+_0x1239dc['classScheduleId']+_0x333119(0x1b1)+_0x4cf72b+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-name=\x22'+_0x1239dc['className']+_0x333119(0x147))+_0x333119(0x18d);});}_0x3cd3a2[_0x46800b(0x164)]=_0x370e95;}function getSelectedClassOptions(){var _0x2e5f1c=a0_0xad6d49;const _0x53d385=document[_0x2e5f1c(0x15f)](_0x2e5f1c(0x14a));return Array[_0x2e5f1c(0x110)](_0x53d385)['map'](_0x367863=>{var _0x56e156=_0x2e5f1c;const _0x59f926=_0x367863['textContent'][_0x56e156(0x18f)]();return _0x59f926;});}function fetchAndisplayClassBooked(){var _0x2dd807=a0_0xad6d49,_0x3c2369=localStorage['getItem'](_0x2dd807(0x199)),_0x9a0a3d=_0x2dd807(0x106)+_0x3c2369;makeApiRequest(_0x9a0a3d,_0x2dd807(0x153),null,function(_0x52444a){var _0x184179=_0x2dd807;displayMyBookedClass(_0x52444a[_0x184179(0x17f)]);});}function a0_0x6a3d(_0x160ae7,_0x4c127d){var _0x4748bb=a0_0x4748();return a0_0x6a3d=function(_0x6a3df5,_0x21721e){_0x6a3df5=_0x6a3df5-0xfb;var _0x553b93=_0x4748bb[_0x6a3df5];return _0x553b93;},a0_0x6a3d(_0x160ae7,_0x4c127d);}function displayMyBookedClass(_0x10aaeb){var _0x304085=a0_0xad6d49,_0x4c64b6=document[_0x304085(0x165)](_0x304085(0x131));let _0x1610ef='';_0x10aaeb[_0x304085(0x1b9)](_0x3bbc3c=>{var _0x25972f=_0x304085;if(_0x3bbc3c[_0x25972f(0x11d)]!==_0x25972f(0x13b)){const _0x3907e8=new Date(_0x3bbc3c[_0x25972f(0x1af)])[_0x25972f(0x158)](_0x25972f(0x132),{'weekday':_0x25972f(0x157),'month':'short','day':_0x25972f(0x12a),'hour':_0x25972f(0x12a),'minute':_0x25972f(0x12a)})[_0x25972f(0x11e)](',',''),_0x3e068a=_0x3907e8[_0x25972f(0x135)]('\x20')[0x0],_0x32f3cd=_0x3907e8[_0x25972f(0x135)]('\x20')[_0x25972f(0x198)](0x1)[_0x25972f(0x125)]('\x20'),_0x3e0340=_0x25972f(0x16a)+_0x3bbc3c['className']+_0x25972f(0x180),_0x4ed912=_0x25972f(0x11a)+_0x3e068a+'\x20'+_0x32f3cd+'</p>',_0x5c4db9=_0x25972f(0x11a)+_0x3bbc3c[_0x25972f(0x166)]+_0x25972f(0x1b3);_0x1610ef+=_0x25972f(0x100)+_0x3e0340+_0x25972f(0x1b6)+_0x4ed912+_0x25972f(0x1b6)+_0x5c4db9+_0x25972f(0x11b)+_0x3bbc3c[_0x25972f(0x124)]+_0x25972f(0x1b2);}}),!_0x1610ef&&(_0x1610ef=_0x304085(0x194)),_0x4c64b6[_0x304085(0x164)]=_0x1610ef;}function makeApiRequest(_0x2700e6,_0x155814,_0x4d454b,_0x2a5e3c,_0x3f8118=0x0){var _0x4456b9=a0_0xad6d49,_0x5279cd=localStorage[_0x4456b9(0x181)]('access_token'),_0x546ffb=new XMLHttpRequest();_0x546ffb['open'](_0x155814,_0x2700e6,!![]),_0x546ffb[_0x4456b9(0x117)]('Content-Type',_0x4456b9(0x159)),_0x546ffb[_0x4456b9(0x117)](_0x4456b9(0x178),_0x4456b9(0x159)),_0x546ffb[_0x4456b9(0x117)](_0x4456b9(0x16d),_0x4456b9(0x102)+_0x5279cd),_0x546ffb[_0x4456b9(0x10a)]=function(){var _0x1d45a2=_0x4456b9;_0x546ffb[_0x1d45a2(0x1a7)]===0xc8?_0x2a5e3c(JSON[_0x1d45a2(0x103)](_0x546ffb[_0x1d45a2(0x186)])):(console['error'](_0x1d45a2(0x182),_0x546ffb[_0x1d45a2(0x1a7)]),_0x3f8118<0x1?errorAPICheckLogin(function(_0x28fd7c){_0x28fd7c&&makeApiRequest(_0x2700e6,_0x155814,_0x4d454b,_0x2a5e3c,_0x3f8118+0x1);}):console[_0x1d45a2(0x17b)](_0x1d45a2(0x18e),_0x546ffb[_0x1d45a2(0x1a7)]));},_0x546ffb['onerror']=function(){var _0xcf24ad=_0x4456b9;console[_0xcf24ad(0x17b)]('makeApiRequest\x20-\x20Network\x20error',_0x546ffb[_0xcf24ad(0x127)]),_0x3f8118<0x1?errorAPICheckLogin(function(_0x4c457c){_0x4c457c&&makeApiRequest(_0x2700e6,_0x155814,_0x4d454b,_0x2a5e3c,_0x3f8118+0x1);}):console[_0xcf24ad(0x17b)](_0xcf24ad(0x18e),_0x546ffb[_0xcf24ad(0x1a7)]);},_0x4d454b?_0x546ffb[_0x4456b9(0x184)](JSON[_0x4456b9(0x11c)](_0x4d454b)):_0x546ffb[_0x4456b9(0x184)]();}function errorAPICheckLogin(_0x1b96ae){var _0x42e7c1=a0_0xad6d49;console[_0x42e7c1(0x137)]('errorAPICheckLogin\x20-\x20function\x20called'),validateLogin(function(_0x2232c6){var _0x53f9e1=_0x42e7c1;_0x2232c6?(console[_0x53f9e1(0x137)](_0x53f9e1(0x14d)),_0x1b96ae(!![])):(console['log'](_0x53f9e1(0x143)),window[_0x53f9e1(0x1b4)]['href']='/');});}function validateLogin(_0x1913c2){var _0x460970=a0_0xad6d49;if(!localStorage[_0x460970(0x181)](_0x460970(0x167))||!localStorage['getItem'](_0x460970(0x199))||!localStorage[_0x460970(0x181)]('userType')){console['error'](_0x460970(0x1a6)),_0x1913c2(![]);return;}const _0x487e74=_0x460970(0x19f),_0x10b900=_0x460970(0x14e),_0x4886f1={'xoken':localStorage[_0x460970(0x181)](_0x460970(0x17e)),'userId':localStorage[_0x460970(0x181)]('portalUserId'),'userType':localStorage[_0x460970(0x181)](_0x460970(0x18c))};makeApiRequest(_0x487e74,_0x10b900,_0x4886f1,function(_0x1af954){var _0x3d9092=_0x460970;Object['keys'](_0x1af954[_0x3d9092(0x17f)])['forEach'](function(_0x10f10a){var _0x560234=_0x3d9092;localStorage[_0x560234(0x152)](_0x10f10a,_0x1af954['payload'][_0x10f10a]);}),_0x1913c2(!![]);},function(_0x1ccac0){var _0x46db5c=_0x460970;console['error'](_0x46db5c(0x10f),_0x1ccac0),_0x1913c2(![]);});}function a0_0x4748(){var _0x5037ad=['classList','cancelBooking_resolve\x20-\x20Cancellation\x20failed','<div>No\x20attendees</div>','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-name=\x22','querySelector','tab-book-class','selectedDate','tab-existing-booking','selected-option','cancelBooking_resolve\x20-\x20Network\x20error','Accept','.full-button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>No\x20class\x20found</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','error','\x20xhr.responseText:\x20','All','refresh_token','payload','</h3>','getItem','Error\x20fetching\x20information:','xhr.status:\x20','send','.time','responseText','Error\x20while\x20cancelling\x20booking,\x20xhr.status:\x20','gridColumn','setAttribute','filter','textContent','userType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','makeApiRequest\x20-\x20Retried\x20request\x20failed:','trim','isArray','then','https://crossfit168.clubfit.net.au/api/v1/booking/cancel/','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-date=\x22','<div\x20class=\x22booked-class-columns\x22><div\x20class=\x22div-each-class\x22><div\x20class=\x22w-richtext\x22><p>No\x20class\x20available</p></div></div></div>','data-class-schedule-id','</div>','.attendee-photo','slice','userId','8WoipyH','EventListener\x20-\x20Cancellation\x20error:','statusCode','memberBookingId','datePicker','https://admin.clubfit.net.au/api/v1/account/validate','\x20left</div>','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-name=\x22','message','value','length','3292625bCGruH','validateLogin\x20-\x20Required\x20session\x20storage\x20items\x20are\x20missing','status','attendees','change','memberPhotoLocation','map','class-available','.class-name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time\x22>','bookedDate','getTimezoneOffset','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-date=\x22','\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>','location','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','className','forEach','data-class-date','fullName','addEventListener','getDate','none','sort','4gPtDkl','getAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booked-class-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22div-each-class\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-richtext\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Content-Type','Bearer\x20','parse','null','Other','https://crossfit168.clubfit.net.au/api/v1/booking/current/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>No\x20class\x20found</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','https://crossfit168.clubfit.net.au/api/v1/booking/search-classes','includes','onload','User\x20is\x20not\x20logged\x20in,\x20redirecting\x20to\x20login\x20page.','Weightlifting','memberBookedStatus','.book-button','validateLogin\x20-\x20Validation\x20failed:','from','.location-option.selected-option','test','.booking-item','3183627HJgGHP','6KzuPYC','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttonandavailability\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-button\x22\x20style=\x22margin-left:\x20auto;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setRequestHeader','DOMContentLoaded','setDate','<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-button\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22cancel-button\x22\x20data-member-booking-id=\x22','stringify','bookingStatus','replace','\x22>Book</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spotsleft\x22>','\x22\x20alt=\x22Avatar\x22\x20class=\x22attendee-photo\x22>','long','error-message','enlarged','bookedId','join','19294900ayqgwn','onerror','date-header','.class-option','2-digit','createElement','data-class-time','click','data-member-booking-id','1140162LREDol','matches','booking-info','en-AU','timestampLastChanged','checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:','split','Element\x20with\x20id\x20\x27date-header\x27\x20not\x20found!','log','cancelBooking_resolve\x20-\x20Cancellation\x20failed\x20after\x20retry','block','target','Cancelled','nextDay','nextSibling','No\x20locations\x20selected.','2734389ReewrZ','1146484bfZfyO','classCapacity','toggle','errorAPICheckLogin\x20-\x20login\x20not\x20validated','getMonth','catch','open','\x22>Full</button>','Booked','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>','.class-option.selected-option','.cancel-button','display','errorAPICheckLogin\x20-\x20login\x20validated','POST','Unknown\x20error\x20occurred','closest','style','setItem','GET','<div\x20class=\x22attendee-item\x22><img\x20src=\x22','data-class-name','classScheduleId','short','toLocaleString','application/json','7231847NGGRRu','parentNode','div','spot','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22','querySelectorAll','cancelBooking_resolve\x20-\x20Network\x20error\x20while\x20cancelling\x20booking','Network\x20error\x20occurred\x20while\x20booking.','<button\x20class=\x22cancel-button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-member-booking-id=\x22','cancelBooking_resolve-\x20Cancellation\x20failed\x20after\x20network\x20error\x20and\x20retry','innerHTML','getElementById','clubName','access_token','remove','stopPropagation','<h3\x20class=\x22name-class\x22>','<button\x20class=\x22full-button\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22','getTime','Authorization'];a0_0x4748=function(){return _0x5037ad;};return a0_0x4748();}