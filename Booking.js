(function(_0x87c311,_0x38709d){var _0x29994d=a0_0x25f2,_0x15d4e3=_0x87c311();while(!![]){try{var _0x12c4f5=-parseInt(_0x29994d(0x105))/0x1*(parseInt(_0x29994d(0xdb))/0x2)+parseInt(_0x29994d(0x16a))/0x3+-parseInt(_0x29994d(0x120))/0x4*(-parseInt(_0x29994d(0x185))/0x5)+parseInt(_0x29994d(0xef))/0x6*(-parseInt(_0x29994d(0x180))/0x7)+-parseInt(_0x29994d(0x150))/0x8*(-parseInt(_0x29994d(0x186))/0x9)+-parseInt(_0x29994d(0x107))/0xa*(parseInt(_0x29994d(0x149))/0xb)+parseInt(_0x29994d(0x131))/0xc*(parseInt(_0x29994d(0xdd))/0xd);if(_0x12c4f5===_0x38709d)break;else _0x15d4e3['push'](_0x15d4e3['shift']());}catch(_0x17bd21){_0x15d4e3['push'](_0x15d4e3['shift']());}}}(a0_0x5ae2,0xd65ac),document['addEventListener']('DOMContentLoaded',function(){var _0x492ee0=a0_0x25f2;initDatePicker(),fetchAndisplayClassBooked(),updateHeaderDate(document['getElementById'](_0x492ee0(0x117))[_0x492ee0(0x15c)]);var _0x534cba=document[_0x492ee0(0x13c)]('tab-existing-booking');_0x534cba[_0x492ee0(0xf6)](_0x492ee0(0x122),function(){fetchAndisplayClassBooked();});var _0x534cba=document[_0x492ee0(0x13c)](_0x492ee0(0xda));_0x534cba[_0x492ee0(0xf6)]('click',function(){fetchAndDisplayClassesAvailable();});const _0x483b52=document[_0x492ee0(0x13c)]('datePicker'),_0x38c022=document[_0x492ee0(0x13c)]('prevDay'),_0x3b101d=document['getElementById'](_0x492ee0(0x129));_0x38c022['addEventListener'](_0x492ee0(0x122),function(){var _0xfbec97=_0x492ee0;_0x34e2dc(-0x1);var _0x23998f=document['getElementById'](_0xfbec97(0x117))[_0xfbec97(0x15c)];saveDatePickerSessionStorage(_0x23998f),updateHeaderDate(_0x23998f),fetchAndDisplayClassesAvailable();}),_0x3b101d[_0x492ee0(0xf6)](_0x492ee0(0x122),function(){var _0x59690c=_0x492ee0;_0x34e2dc(0x1);var _0x291743=document[_0x59690c(0x13c)](_0x59690c(0x117))[_0x59690c(0x15c)];saveDatePickerSessionStorage(_0x291743),updateHeaderDate(_0x291743),fetchAndDisplayClassesAvailable();}),_0x483b52['addEventListener'](_0x492ee0(0xcf),function(){var _0x5a6b4d=_0x492ee0,_0x1276b1=document[_0x5a6b4d(0x13c)](_0x5a6b4d(0x117))['value'];saveDatePickerSessionStorage(_0x1276b1),updateHeaderDate(_0x1276b1),fetchAndDisplayClassesAvailable();});function _0x34e2dc(_0x3435f0){var _0x226ef2=_0x492ee0;const _0x5dc6c1=new Date(_0x483b52[_0x226ef2(0x15c)]+_0x226ef2(0x18e));_0x5dc6c1['setDate'](_0x5dc6c1['getDate']()+_0x3435f0),_0x483b52[_0x226ef2(0x15c)]=formatDate(_0x5dc6c1);}var _0x323281=document['querySelectorAll'](_0x492ee0(0x12d));_0x323281[_0x492ee0(0x139)](function(_0xb3122a){var _0x30f854=_0x492ee0;_0xb3122a['addEventListener'](_0x30f854(0x122),function(){var _0xcba1ec=_0x30f854;_0x323281[_0xcba1ec(0x139)](function(_0x35e147){var _0x20079f=_0xcba1ec;_0x35e147[_0x20079f(0xeb)][_0x20079f(0x156)](_0x20079f(0x11c));}),this['classList'][_0xcba1ec(0x159)](_0xcba1ec(0x11c)),fetchAndDisplayClassesAvailable();});});var _0x17086f=document['querySelectorAll'](_0x492ee0(0x153));_0x17086f[_0x492ee0(0x139)](function(_0x2d9c38){var _0xef9be8=_0x492ee0;_0x2d9c38[_0xef9be8(0xf6)](_0xef9be8(0x122),function(){var _0x46bce2=_0xef9be8;this[_0x46bce2(0xeb)][_0x46bce2(0x121)](_0x46bce2(0x11c)),fetchAndDisplayClassesAvailable();});}),document['getElementById'](_0x492ee0(0x143))['addEventListener'](_0x492ee0(0x122),function(_0x4fc0cd){var _0x5b8cd5=_0x492ee0;if(_0x4fc0cd[_0x5b8cd5(0x18b)]&&_0x4fc0cd[_0x5b8cd5(0x18b)][_0x5b8cd5(0xf4)](_0x5b8cd5(0xe1))){var _0x5bdb57=_0x4fc0cd[_0x5b8cd5(0x18b)][_0x5b8cd5(0x100)](_0x5b8cd5(0x14f));cancelBooking_resolve(_0x5bdb57)[_0x5b8cd5(0x171)](()=>{fetchAndDisplayClassesAvailable();})[_0x5b8cd5(0xfd)](_0x337e83=>{var _0x28eeef=_0x5b8cd5;console[_0x28eeef(0x10c)](_0x28eeef(0x147),_0x337e83);});}else{if(_0x4fc0cd['target']&&_0x4fc0cd[_0x5b8cd5(0x18b)][_0x5b8cd5(0xf4)]('.book-button'))bookClass(_0x4fc0cd[_0x5b8cd5(0x18b)]),fetchAndDisplayClassesAvailable();else{if(_0x4fc0cd[_0x5b8cd5(0x18b)]&&_0x4fc0cd[_0x5b8cd5(0x18b)]['closest'](_0x5b8cd5(0xdf))){var _0x58de01=_0x4fc0cd[_0x5b8cd5(0x18b)][_0x5b8cd5(0x108)]('.booking-item');if(_0x4fc0cd[_0x5b8cd5(0x18b)][_0x5b8cd5(0x108)](_0x5b8cd5(0x119))){_0x58de01[_0x5b8cd5(0xd0)](_0x5b8cd5(0xe6))[_0x5b8cd5(0x139)](function(_0x2efaa9){var _0x225b47=_0x5b8cd5;_0x2efaa9[_0x225b47(0xeb)][_0x225b47(0x156)](_0x225b47(0x10b));});return;}var _0x1c7c8e=_0x58de01['querySelector'](_0x5b8cd5(0x14c))||_0x58de01[_0x5b8cd5(0xe7)](_0x5b8cd5(0xe1))||_0x58de01[_0x5b8cd5(0xe7)]('.full-button');if(_0x1c7c8e){var _0x516e9f=_0x1c7c8e['getAttribute'](_0x5b8cd5(0x17d)),_0xd26cba=_0x1c7c8e[_0x5b8cd5(0x100)](_0x5b8cd5(0x10d)),_0x30c5c2=_0x58de01['querySelector'](_0x5b8cd5(0xe4))[_0x5b8cd5(0x18a)],_0x4c5bf8=_0x58de01['querySelector'](_0x5b8cd5(0xdc))[_0x5b8cd5(0x18a)],_0x202a3a=document[_0x5b8cd5(0xee)](_0x5b8cd5(0xd1));_0x202a3a['setAttribute'](_0x5b8cd5(0x17d),_0x516e9f),_0x202a3a[_0x5b8cd5(0x146)]('data-class-date',_0xd26cba),_0x202a3a['setAttribute'](_0x5b8cd5(0x136),_0x30c5c2),_0x202a3a[_0x5b8cd5(0x146)](_0x5b8cd5(0x17a),_0x4c5bf8),checkAttendees(_0x202a3a,_0x58de01);}else console[_0x5b8cd5(0x10c)]('No\x20book-button\x20or\x20cancel-button\x20found\x20in\x20booking-item.');}}}}),document[_0x492ee0(0x13c)](_0x492ee0(0x134))[_0x492ee0(0xf6)](_0x492ee0(0x122),function(_0x5a3260){var _0x381221=_0x492ee0;if(_0x5a3260[_0x381221(0x18b)]&&_0x5a3260[_0x381221(0x18b)][_0x381221(0xf4)]('.cancel-button')){var _0x585ce4=_0x5a3260[_0x381221(0x18b)][_0x381221(0x100)](_0x381221(0x14f));cancelBooking_resolve(_0x585ce4)['then'](()=>{fetchAndisplayClassBooked();})[_0x381221(0xfd)](_0x5d192a=>{var _0x28e99f=_0x381221;console[_0x28e99f(0x10c)]('EventListener\x20-\x20Cancellation\x20error:',_0x5d192a);});}});}));function initDatePicker(){var _0x343102=a0_0x25f2;const _0x85d688=document['getElementById']('datePicker');let _0x1aad2f=sessionStorage['getItem'](_0x343102(0xea)),_0x2eaead=sessionStorage[_0x343102(0x17c)](_0x343102(0x178));_0x1aad2f&&_0x2eaead&&isWithinValidityPeriod(_0x2eaead,0.5)?_0x85d688['value']=_0x1aad2f:(currentDate=getLocalDate(),_0x85d688[_0x343102(0x15c)]=currentDate,saveDatePickerSessionStorage(currentDate));}function isWithinValidityPeriod(_0x5daef8,_0x3b5d5e){var _0x42d8a7=a0_0x25f2;const _0x519e30=new Date()[_0x42d8a7(0x12c)](),_0x58edd9=(_0x519e30-_0x5daef8)/(0x3e8*0x3c*0x3c);return _0x58edd9<=_0x3b5d5e;}function formatDate(_0x5b77e9){var _0x5638b6=a0_0x25f2;let _0xa3ad72=new Date(_0x5b77e9),_0x3ad0cb=''+(_0xa3ad72['getMonth']()+0x1),_0x4cb29c=''+_0xa3ad72[_0x5638b6(0x175)](),_0x175fc3=_0xa3ad72[_0x5638b6(0xd7)]();if(_0x3ad0cb[_0x5638b6(0x145)]<0x2)_0x3ad0cb='0'+_0x3ad0cb;if(_0x4cb29c['length']<0x2)_0x4cb29c='0'+_0x4cb29c;return[_0x175fc3,_0x3ad0cb,_0x4cb29c][_0x5638b6(0x15e)]('-');}function updateHeaderDate(_0x251917){var _0x5392af=a0_0x25f2;const _0x4ce9f9=document[_0x5392af(0x13c)](_0x5392af(0xe5));if(!_0x4ce9f9){console['error'](_0x5392af(0xec));return;}const _0x5307e5=new Date(_0x251917),_0x2b7a67=_0x5307e5[_0x5392af(0x175)](),_0xfa80b7=_0x5307e5[_0x5392af(0x11e)](_0x5392af(0x110),{'month':_0x5392af(0x141)}),_0x129841=_0x5307e5['toLocaleString']('en-AU',{'weekday':_0x5392af(0x141)});function _0x18cb5f(_0x265dee){if(_0x265dee>0x3&&_0x265dee<0x15)return'th';switch(_0x265dee%0xa){case 0x1:return'st';case 0x2:return'nd';case 0x3:return'rd';default:return'th';}}const _0x43c5fe=_0x129841+'\x20'+(_0x2b7a67<0xa?'0':'')+_0x2b7a67+_0x18cb5f(_0x2b7a67)+'\x20'+_0xfa80b7;_0x4ce9f9[_0x5392af(0x18a)]=_0x43c5fe;}function getLocalDate(){var _0x32a010=a0_0x25f2;const _0xb74389=new Date(),_0x414b10=_0xb74389['getTimezoneOffset']()*0xea60,_0x17d0a1=new Date(_0xb74389-_0x414b10)[_0x32a010(0x163)]()[_0x32a010(0x11a)](0x0,0xa);return _0x17d0a1;}function saveDatePickerSessionStorage(_0x5e53df){var _0x151d86=a0_0x25f2;sessionStorage['setItem']('selectedDate',_0x5e53df),timestamp=new Date()[_0x151d86(0x12c)](),sessionStorage[_0x151d86(0x14d)](_0x151d86(0x178),timestamp);}function bookClass(_0x3f6b19){var _0x4baa5b=a0_0x25f2,_0x427e95=_0x3f6b19[_0x4baa5b(0x100)]('data-class-schedule-id'),_0x483d9c=_0x3f6b19['getAttribute'](_0x4baa5b(0x10d)),_0x1e5d45=_0x3f6b19['getAttribute'](_0x4baa5b(0x17a)),_0x181ea4=localStorage[_0x4baa5b(0x17c)](_0x4baa5b(0x13d)),_0x17851f=localStorage[_0x4baa5b(0x17c)](_0x4baa5b(0xe9)),_0x46c353=_0x4baa5b(0x12e),_0x113940={'classScheduleId':_0x427e95,'classDateTime':_0x483d9c,'className':_0x1e5d45,'userId':_0x181ea4,'onBehalfBookingReference':'','onBehalfBookFor':''},_0x3fd91e=new XMLHttpRequest();_0x3fd91e[_0x4baa5b(0xe8)](_0x4baa5b(0x187),_0x46c353,!![]),_0x3fd91e[_0x4baa5b(0xd5)](_0x4baa5b(0x116),_0x4baa5b(0x12a)),_0x3fd91e['setRequestHeader'](_0x4baa5b(0x130),_0x4baa5b(0x12a)),_0x3fd91e[_0x4baa5b(0xd5)](_0x4baa5b(0x125),_0x4baa5b(0x190)+_0x17851f),_0x3fd91e[_0x4baa5b(0x184)]=function(){var _0x25fb25=_0x4baa5b,_0x440395;try{_0x440395=JSON[_0x25fb25(0x160)](_0x3fd91e[_0x25fb25(0xff)]);}catch(_0x2dd9ea){_0x440395={'errors':{'message':_0x25fb25(0xed)}};}_0x3fd91e[_0x25fb25(0x192)]>=0xc8&&_0x3fd91e[_0x25fb25(0x192)]<0x12c&&_0x440395[_0x25fb25(0xde)]===0xc8?fetchAndDisplayClassesAvailable():(console[_0x25fb25(0x12b)](_0x25fb25(0x181)+_0x3fd91e[_0x25fb25(0x192)]+_0x25fb25(0xf8)),alert(_0x440395['errors'][_0x25fb25(0x18d)]),errorAPICheckLogin(function(_0x12cdd9){var _0x123f63=_0x25fb25;!_0x12cdd9&&console[_0x123f63(0x10c)]('User\x20is\x20not\x20logged\x20in,\x20redirecting\x20to\x20login\x20page.');}));},_0x3fd91e[_0x4baa5b(0x142)]=function(){var _0x206f58=_0x4baa5b;alert(_0x206f58(0xe0)),errorAPICheckLogin(function(_0x4621c7){var _0x936a46=_0x206f58;!_0x4621c7&&console[_0x936a46(0x10c)]('User\x20is\x20not\x20logged\x20in,\x20redirecting\x20to\x20login\x20page.');});},_0x3fd91e[_0x4baa5b(0x13b)](JSON[_0x4baa5b(0x10a)](_0x113940));}function displayErrorMessage(_0xe5bbb5,_0x2f559c){var _0x321371=a0_0x25f2;clearErrorMessage(_0xe5bbb5);var _0x299fbe=document[_0x321371(0xee)](_0x321371(0x170));_0x299fbe['className']=_0x321371(0x13a),_0x299fbe[_0x321371(0x18a)]=_0x2f559c,_0xe5bbb5[_0x321371(0x109)][_0x321371(0x10f)](_0x299fbe,_0xe5bbb5[_0x321371(0x133)]);}function clearErrorMessage(_0x1c2840){var _0x4937cc=a0_0x25f2,_0x131df3=_0x1c2840[_0x4937cc(0x133)];_0x131df3&&_0x131df3['className']===_0x4937cc(0x13a)&&_0x131df3['remove']();}function showInlineAttendees(_0x4a3dc1,_0x2ef5b5){var _0x1e4cec=a0_0x25f2,_0x5bc442=_0x2ef5b5[_0x1e4cec(0xe7)](_0x1e4cec(0x119));if(!_0x5bc442)_0x5bc442=document[_0x1e4cec(0xee)](_0x1e4cec(0x170)),_0x5bc442[_0x1e4cec(0x137)]=_0x1e4cec(0x15a),_0x2ef5b5[_0x1e4cec(0xe3)](_0x5bc442),_0x5bc442['style'][_0x1e4cec(0x123)]=_0x1e4cec(0x104);else{_0x5bc442[_0x1e4cec(0xd3)][_0x1e4cec(0x15d)]=_0x5bc442[_0x1e4cec(0xd3)][_0x1e4cec(0x15d)]==='block'?_0x1e4cec(0xce):_0x1e4cec(0x189);return;}var _0x48d431='';Array[_0x1e4cec(0x183)](_0x4a3dc1)&&_0x4a3dc1['length']>0x0?(_0x4a3dc1[_0x1e4cec(0x191)]((_0x51565b,_0x1cb0fc)=>_0x51565b[_0x1e4cec(0x169)][_0x1e4cec(0x154)](_0x1cb0fc[_0x1e4cec(0x169)])),_0x4a3dc1['forEach'](function(_0x163ba2){var _0x20f890=_0x1e4cec,_0x178e7c=_0x163ba2[_0x20f890(0x169)][_0x20f890(0x162)]('\x20')[0x0];_0x48d431+='<div\x20class=\x22attendee-item\x22><img\x20src=\x22'+_0x163ba2[_0x20f890(0xfb)]+_0x20f890(0x165)+_0x178e7c+_0x20f890(0x152);})):_0x48d431+=_0x1e4cec(0x16d),_0x5bc442[_0x1e4cec(0xe2)]=_0x48d431,_0x5bc442[_0x1e4cec(0xd3)][_0x1e4cec(0x15d)]=_0x1e4cec(0x189),_0x5bc442['querySelectorAll'](_0x1e4cec(0xe6))['forEach'](function(_0x40a2b4){var _0x260c48=_0x1e4cec;_0x40a2b4[_0x260c48(0xf6)](_0x260c48(0x122),function(_0x21bd0){var _0x596c4d=_0x260c48;_0x40a2b4[_0x596c4d(0xeb)][_0x596c4d(0x10e)](_0x596c4d(0x10b))?_0x40a2b4[_0x596c4d(0xeb)][_0x596c4d(0x156)]('enlarged'):(_0x5bc442['querySelectorAll'](_0x596c4d(0xe6))[_0x596c4d(0x139)](function(_0x2900f4){var _0x43c33e=_0x596c4d;_0x2900f4[_0x43c33e(0xeb)][_0x43c33e(0x156)](_0x43c33e(0x10b));}),_0x40a2b4[_0x596c4d(0xeb)][_0x596c4d(0x159)](_0x596c4d(0x10b))),_0x21bd0[_0x596c4d(0x13f)]();});}),_0x5bc442[_0x1e4cec(0xf6)](_0x1e4cec(0x122),function(_0x274778){var _0x537509=_0x1e4cec;_0x5bc442['querySelectorAll'](_0x537509(0xe6))[_0x537509(0x139)](function(_0x1183f7){var _0xe71722=_0x537509;_0x1183f7[_0xe71722(0xeb)]['remove']('enlarged');}),_0x274778['stopPropagation']();}),document['addEventListener']('click',function(_0x25c88d){var _0x2bf00a=_0x1e4cec;!_0x2ef5b5[_0x2bf00a(0x10e)](_0x25c88d[_0x2bf00a(0x18b)])&&_0x5bc442[_0x2bf00a(0xd0)](_0x2bf00a(0xe6))['forEach'](function(_0x1ff305){var _0x1f6a57=_0x2bf00a;_0x1ff305[_0x1f6a57(0xeb)][_0x1f6a57(0x156)](_0x1f6a57(0x10b));});});}function checkAttendees(_0x984e09,_0x428248){var _0x1f8e62=a0_0x25f2,_0x554a8c=_0x984e09[_0x1f8e62(0x100)](_0x1f8e62(0x17d)),_0x54e24a=_0x984e09['getAttribute'](_0x1f8e62(0x10d)),_0x122878=_0x984e09[_0x1f8e62(0x100)]('data-class-time'),_0x2af6a9='https://crossfit168.clubfit.net.au/api/v1/booking/class-participants',_0x80b16e={'classScheduleId':_0x554a8c,'selectedDate':_0x54e24a,'classTime':_0x122878},_0x16d8cf=new XMLHttpRequest();_0x16d8cf[_0x1f8e62(0xe8)](_0x1f8e62(0x187),_0x2af6a9,!![]),_0x16d8cf[_0x1f8e62(0xd5)](_0x1f8e62(0x116),'application/json'),_0x16d8cf[_0x1f8e62(0xd5)](_0x1f8e62(0x130),_0x1f8e62(0x12a)),_0x16d8cf[_0x1f8e62(0xd5)](_0x1f8e62(0x125),_0x1f8e62(0x161)),_0x16d8cf[_0x1f8e62(0x184)]=function(){var _0x79dbe7=_0x1f8e62;if(_0x16d8cf['status']>=0xc8&&_0x16d8cf[_0x79dbe7(0x192)]<0x12c){var _0x1becbf=JSON[_0x79dbe7(0x160)](_0x16d8cf[_0x79dbe7(0xff)]),_0x1cc41a=_0x1becbf[_0x79dbe7(0xf5)];showInlineAttendees(_0x1cc41a,_0x428248);}else console[_0x79dbe7(0x10c)](_0x79dbe7(0x102),_0x16d8cf[_0x79dbe7(0x192)]),errorAPICheckLogin();},_0x16d8cf[_0x1f8e62(0x142)]=function(){var _0x2a3964=_0x1f8e62;console[_0x2a3964(0x10c)]('checkAttendees\x20-\x20Network\x20error\x20while\x20checking\x20attendees'),errorAPICheckLogin();},_0x16d8cf[_0x1f8e62(0x13b)](JSON[_0x1f8e62(0x10a)](_0x80b16e));}function a0_0x25f2(_0x2ae6e2,_0x63ac85){var _0x5ae204=a0_0x5ae2();return a0_0x25f2=function(_0x25f256,_0x19ccec){_0x25f256=_0x25f256-0xce;var _0xf2b31f=_0x5ae204[_0x25f256];return _0xf2b31f;},a0_0x25f2(_0x2ae6e2,_0x63ac85);}function cancelBooking_resolve(_0x2dac94,_0x2633ba=0x0){return new Promise((_0x5234fc,_0x3784af)=>{var _0x1902ab=a0_0x25f2,_0x5a529d=localStorage[_0x1902ab(0x17c)]('access_token'),_0x53fc1b='https://crossfit168.clubfit.net.au/api/v1/booking/cancel/'+_0x2dac94,_0x185239=new XMLHttpRequest();_0x185239[_0x1902ab(0xe8)](_0x1902ab(0x187),_0x53fc1b,!![]),_0x185239[_0x1902ab(0xd5)]('Content-Type','application/json'),_0x185239[_0x1902ab(0xd5)]('Accept','application/json'),_0x185239[_0x1902ab(0xd5)](_0x1902ab(0x125),'Bearer\x20'+_0x5a529d),_0x185239['onload']=function(){var _0x3f14af=_0x1902ab;const _0x516c07=JSON[_0x3f14af(0x160)](_0x185239[_0x3f14af(0xff)]);_0x185239[_0x3f14af(0x192)]>=0xc8&&_0x185239['status']<0x12c?(_0x516c07[_0x3f14af(0xde)]!==0xc8&&console[_0x3f14af(0x12b)](_0x3f14af(0x144),_0x185239[_0x3f14af(0xff)]),_0x5234fc(_0x185239[_0x3f14af(0xff)])):(console['error'](_0x3f14af(0x115),_0x185239[_0x3f14af(0x192)]),console[_0x3f14af(0x10c)](_0x3f14af(0x13e),_0x185239[_0x3f14af(0xff)]),_0x2633ba<0x1?errorAPICheckLogin(function(_0x491eab){var _0x4ae20b=_0x3f14af;_0x491eab?cancelBooking_resolve(_0x2dac94,_0x2633ba+0x1)['then'](_0x5234fc)[_0x4ae20b(0xfd)](_0x3784af):_0x3784af(new Error('cancelBooking_resolve\x20-\x20Cancellation\x20failed\x20after\x20retry'));}):_0x3784af(new Error(_0x3f14af(0x124))));},_0x185239['onerror']=function(){var _0x518fbe=_0x1902ab;console[_0x518fbe(0x10c)](_0x518fbe(0x16c)),_0x2633ba<0x1?errorAPICheckLogin(function(_0x3f9093){var _0x2376c0=_0x518fbe;_0x3f9093?cancelBooking_resolve(_0x2dac94,_0x2633ba+0x1)['then'](_0x5234fc)[_0x2376c0(0xfd)](_0x3784af):_0x3784af(new Error('cancelBooking_resolve\x20-\x20Cancellation\x20failed\x20after\x20network\x20error\x20and\x20retry'));}):_0x3784af(new Error(_0x518fbe(0x128)));},_0x185239[_0x1902ab(0x13b)]();});}function a0_0x5ae2(){var _0x6faf0b=['xhr.status:\x20','validateLogin\x20-\x20Required\x20session\x20storage\x20items\x20are\x20missing','isArray','onload','40pTzwik','99zRstDV','POST','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-name=\x22','block','textContent','target','Booked','message','T00:00:00','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttonandavailability\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-button\x22\x20style=\x22margin-left:\x20auto;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Bearer\x20','sort','status','keys','none','change','querySelectorAll','button','includes','style','validateLogin\x20-\x20Validation\x20failed:','setRequestHeader','</p>','getFullYear','spots','<button\x20class=\x22full-button\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22','tab-book-class','57866vEMxfb','.class-name','559dZBGHx','statusCode','.booking-item','Network\x20error\x20occurred\x20while\x20booking.','.cancel-button','innerHTML','appendChild','.time','date-header','.attendee-photo','querySelector','open','access_token','selectedDate','classList','Element\x20with\x20id\x20\x27date-header\x27\x20not\x20found!','Unknown\x20error\x20occurred','createElement','768KMeGHL','\x22>Book</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spotsleft\x22>','filter','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-date=\x22','makeApiRequest\x20-\x20Network\x20error','matches','payload','addEventListener','refresh_token','response.messageFields','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-date=\x22','spot','memberPhotoLocation','<button\x20class=\x22cancel-button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-member-booking-id=\x22','catch','.class-option.selected-option','responseText','getAttribute','userType','checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1\x20/\x20-1','52VNGDMN','bookedId','30YwlrvY','closest','parentNode','stringify','enlarged','error','data-class-date','contains','insertBefore','en-AU','map','classScheduleId','\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Other','Error\x20while\x20cancelling\x20booking,\x20xhr.status:\x20','Content-Type','datePicker','https://admin.clubfit.net.au/api/v1/account/validate','.attendees','slice','bookedDate','selected-option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time\x22>','toLocaleString','makeApiRequest\x20-\x20Retried\x20request\x20failed:','55324uBoicx','toggle','click','gridColumn','cancelBooking_resolve\x20-\x20Cancellation\x20failed','Authorization','</h3>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancelBooking_resolve\x20-\x20Network\x20error','nextDay','application/json','log','getTime','.location-option','https://crossfit168.clubfit.net.au/api/v1/booking/book-class-v2','\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spotsleft\x22>','Accept','843660mnZJmL','location','nextSibling','booking-info','<p>','data-class-time','className','errorAPICheckLogin\x20-\x20login\x20validated','forEach','error-message','send','getElementById','userId','Error\x20details:','stopPropagation','All','long','onerror','class-available','Response\x20received:','length','setAttribute','EventListener\x20-\x20Cancellation\x20error:','classTime','6175939AEfmMN','bookingStatus','test','.book-button','setItem','\x20left</div>','data-member-booking-id','514528dZIqul','errorAPICheckLogin\x20-\x20function\x20called','</div>','.class-option','localeCompare','Error\x20fetching\x20information:','remove','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-name=\x22','Weightlifting','add','attendees','clubName','value','display','join','GET','parse','bearer','split','toISOString','<button\x20class=\x22book-button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22','\x22\x20alt=\x22Avatar\x22\x20class=\x22attendee-photo\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>No\x20class\x20found</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','classCapacity','No\x20locations\x20selected.','fullName','1114620jqqijQ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>','cancelBooking_resolve\x20-\x20Network\x20error\x20while\x20cancelling\x20booking','<div>No\x20attendees</div>','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-button\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22cancel-button\x22\x20data-member-booking-id=\x22','div','then','<h3\x20class=\x22name-class\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22','<div\x20class=\x22booked-class-columns\x22><div\x20class=\x22div-each-class\x22><div\x20class=\x22w-richtext\x22><p>No\x20class\x20available</p></div></div></div>','getDate','data-location','short','timestampLastChanged','https://crossfit168.clubfit.net.au/api/v1/booking/search-classes','data-class-name','trim','getItem','data-class-schedule-id','Cancelled','2-digit','7980tUSISK'];a0_0x5ae2=function(){return _0x6faf0b;};return a0_0x5ae2();}function fetchAndDisplayClassesAvailable(){var _0x460286=a0_0x25f2,_0x5d954b=document[_0x460286(0xd0)]('.location-option.selected-option');if(_0x5d954b['length']===0x0){console['log'](_0x460286(0x168));return;}var _0x594303=document[_0x460286(0x13c)](_0x460286(0x117))[_0x460286(0x15c)],_0x4d8f10=getLocalDate(),_0x2e54c8={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x4bd3ff=Array['from'](_0x5d954b)[_0x460286(0x111)](_0x34bfc8=>{var _0x3a460d=_0x460286,_0x5d83d2=_0x34bfc8[_0x3a460d(0x100)](_0x3a460d(0x176)),_0x1e3824=_0x2e54c8[_0x5d83d2];return _0x1e3824;}),_0x486dd1=localStorage[_0x460286(0x17c)](_0x460286(0x13d)),_0x542c33={'UserId':_0x486dd1,'clubId':_0x4bd3ff[0x0],'selectedDate':_0x594303,'classType':0x0,'accountId':_0x4bd3ff[0x0]};if(_0x594303<_0x4d8f10)displayClassAvailable([]);else{var _0x232dab=_0x460286(0x179);makeApiRequest(_0x232dab,'POST',_0x542c33,function(_0x1e6540){var _0x3d06db=_0x460286;displayClassAvailable(_0x1e6540[_0x3d06db(0xf5)]);});}}function displayClassAvailable(_0x368871){var _0x33ea86=a0_0x25f2,_0x26a403=document[_0x33ea86(0x13c)]('class-available');let _0x56a4a3=getSelectedClassOptions(),_0x57ab92='',_0x206388=document[_0x33ea86(0x13c)]('datePicker')['value'];if(_0x368871['length']===0x0)_0x57ab92=_0x33ea86(0x166);else{const _0x4a1561=/crossfit|cf/i,_0xeae9b7=/weightlifting/i;let _0x4ead91=_0x368871[_0x33ea86(0xf1)](_0x2ab455=>{var _0x3f0459=_0x33ea86;const _0x396380=_0x4a1561['test'](_0x2ab455['className']),_0x13e698=_0xeae9b7[_0x3f0459(0x14b)](_0x2ab455[_0x3f0459(0x137)]);if(_0x56a4a3['includes']('CrossFit')&&_0x396380)return!![];if(_0x56a4a3[_0x3f0459(0xd2)](_0x3f0459(0x158))&&_0x13e698)return!![];if(_0x56a4a3[_0x3f0459(0xd2)](_0x3f0459(0x114))&&!_0x396380&&!_0x13e698)return!![];if(_0x56a4a3[_0x3f0459(0x145)]===0x0||_0x56a4a3[_0x3f0459(0x145)]===0x3||_0x56a4a3[_0x3f0459(0xd2)](_0x3f0459(0x140)))return!![];if(_0x56a4a3[_0x3f0459(0x145)]===0x2&&!_0x56a4a3[_0x3f0459(0xd2)](_0x3f0459(0x114)))return _0x396380||_0x13e698;return![];});_0x4ead91[_0x33ea86(0x145)]===0x0?_0x57ab92='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>No\x20class\x20found</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0x4ead91['forEach'](_0x4743d6=>{var _0x2a6d74=_0x33ea86;const _0xf0fcf4=_0x4743d6[_0x2a6d74(0x167)]-_0x4743d6['totalBooked'],_0x40d30f=_0xf0fcf4===0x1?_0x2a6d74(0xfa):_0x2a6d74(0xd8);_0x57ab92+=_0x2a6d74(0x11d)+_0x4743d6[_0x2a6d74(0x148)]+_0x2a6d74(0x16b)+_0x4743d6[_0x2a6d74(0x137)]+_0x2a6d74(0x18f)+(_0x4743d6['memberBookedStatus']===_0x2a6d74(0x18c)?_0x2a6d74(0xfc)+_0x4743d6['memberBookingId']+_0x2a6d74(0x173)+_0x4743d6[_0x2a6d74(0x112)]+_0x2a6d74(0xf9)+_0x206388+_0x2a6d74(0x157)+_0x4743d6[_0x2a6d74(0x137)]+_0x2a6d74(0x12f)+_0xf0fcf4+'\x20'+_0x40d30f+_0x2a6d74(0x14e):_0xf0fcf4>0x0?_0x2a6d74(0x164)+_0x4743d6['classScheduleId']+_0x2a6d74(0xf2)+_0x206388+_0x2a6d74(0x188)+_0x4743d6[_0x2a6d74(0x137)]+_0x2a6d74(0xf0)+_0xf0fcf4+'\x20'+_0x40d30f+'\x20left</div>':_0x2a6d74(0xd9)+_0x4743d6[_0x2a6d74(0x112)]+_0x2a6d74(0xf2)+_0x206388+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-name=\x22'+_0x4743d6[_0x2a6d74(0x137)]+'\x22>Full</button>')+_0x2a6d74(0x127);});}_0x26a403['innerHTML']=_0x57ab92;}function getSelectedClassOptions(){var _0x3fc74f=a0_0x25f2;const _0x2fe84d=document[_0x3fc74f(0xd0)](_0x3fc74f(0xfe));return Array['from'](_0x2fe84d)[_0x3fc74f(0x111)](_0x1b8a99=>{var _0x18b3ef=_0x3fc74f;const _0x5377f8=_0x1b8a99['textContent'][_0x18b3ef(0x17b)]();return _0x5377f8;});}function fetchAndisplayClassBooked(){var _0x22d737=a0_0x25f2,_0x414adb=localStorage[_0x22d737(0x17c)](_0x22d737(0x13d)),_0x223e68='https://crossfit168.clubfit.net.au/api/v1/booking/current/'+_0x414adb;makeApiRequest(_0x223e68,_0x22d737(0x15f),null,function(_0x44363b){displayMyBookedClass(_0x44363b['payload']);});}function displayMyBookedClass(_0x997d74){var _0x40ebb0=a0_0x25f2,_0x687608=document[_0x40ebb0(0x13c)](_0x40ebb0(0x134));let _0x5117d1='';_0x997d74[_0x40ebb0(0x139)](_0x3c2937=>{var _0x414852=_0x40ebb0;if(_0x3c2937[_0x414852(0x14a)]!==_0x414852(0x17e)){const _0x21f308=new Date(_0x3c2937[_0x414852(0x11b)])['toLocaleString']('en-AU',{'weekday':_0x414852(0x177),'month':_0x414852(0x177),'day':_0x414852(0x17f),'hour':_0x414852(0x17f),'minute':_0x414852(0x17f)})[_0x414852(0x16e)](',',''),_0x1aef1d=_0x21f308['split']('\x20')[0x0],_0x592e74=_0x21f308['split']('\x20')[_0x414852(0x11a)](0x1)[_0x414852(0x15e)]('\x20'),_0x1cc674=_0x414852(0x172)+_0x3c2937[_0x414852(0x137)]+_0x414852(0x126),_0x112b2b=_0x414852(0x135)+_0x1aef1d+'\x20'+_0x592e74+'</p>',_0x18d841=_0x414852(0x135)+_0x3c2937[_0x414852(0x15b)]+_0x414852(0xd6);_0x5117d1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booked-class-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22div-each-class\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-richtext\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cc674+_0x414852(0x103)+_0x112b2b+_0x414852(0x103)+_0x18d841+_0x414852(0x16f)+_0x3c2937[_0x414852(0x106)]+_0x414852(0x113);}}),!_0x5117d1&&(_0x5117d1=_0x40ebb0(0x174)),_0x687608[_0x40ebb0(0xe2)]=_0x5117d1;}function makeApiRequest(_0x2a06fb,_0x4aca09,_0x42c71f,_0x36521a,_0x4aff16=0x0){var _0x466a57=a0_0x25f2,_0xa0de2f=localStorage[_0x466a57(0x17c)]('access_token'),_0x488dc1=new XMLHttpRequest();_0x488dc1[_0x466a57(0xe8)](_0x4aca09,_0x2a06fb,!![]),_0x488dc1['setRequestHeader']('Content-Type',_0x466a57(0x12a)),_0x488dc1[_0x466a57(0xd5)](_0x466a57(0x130),_0x466a57(0x12a)),_0x488dc1[_0x466a57(0xd5)](_0x466a57(0x125),_0x466a57(0x190)+_0xa0de2f),_0x488dc1[_0x466a57(0x184)]=function(){var _0x148d94=_0x466a57;_0x488dc1[_0x148d94(0x192)]===0xc8?_0x36521a(JSON[_0x148d94(0x160)](_0x488dc1[_0x148d94(0xff)])):(console[_0x148d94(0x10c)](_0x148d94(0x155),_0x488dc1[_0x148d94(0x192)]),_0x4aff16<0x1?errorAPICheckLogin(function(_0x5a9211){_0x5a9211&&makeApiRequest(_0x2a06fb,_0x4aca09,_0x42c71f,_0x36521a,_0x4aff16+0x1);}):console[_0x148d94(0x10c)](_0x148d94(0x11f),_0x488dc1[_0x148d94(0x192)]));},_0x488dc1[_0x466a57(0x142)]=function(){var _0x160ec2=_0x466a57;console[_0x160ec2(0x10c)](_0x160ec2(0xf3),_0x488dc1['onerror']),_0x4aff16<0x1?errorAPICheckLogin(function(_0x15723d){_0x15723d&&makeApiRequest(_0x2a06fb,_0x4aca09,_0x42c71f,_0x36521a,_0x4aff16+0x1);}):console[_0x160ec2(0x10c)](_0x160ec2(0x11f),_0x488dc1[_0x160ec2(0x192)]);},_0x42c71f?_0x488dc1['send'](JSON[_0x466a57(0x10a)](_0x42c71f)):_0x488dc1[_0x466a57(0x13b)]();}function errorAPICheckLogin(_0x1143cc){var _0x56b569=a0_0x25f2;console['log'](_0x56b569(0x151)),validateLogin(function(_0x229f81){var _0x58fb59=_0x56b569;_0x229f81?(console['log'](_0x58fb59(0x138)),_0x1143cc(!![])):(console[_0x58fb59(0x12b)]('errorAPICheckLogin\x20-\x20login\x20not\x20validated'),window[_0x58fb59(0x132)]['href']='/');});}function validateLogin(_0x14a9a3){var _0x6b5610=a0_0x25f2;if(!localStorage[_0x6b5610(0x17c)]('access_token')||!localStorage[_0x6b5610(0x17c)](_0x6b5610(0x13d))||!localStorage[_0x6b5610(0x17c)](_0x6b5610(0x101))){console['error'](_0x6b5610(0x182)),_0x14a9a3(![]);return;}const _0x108884=_0x6b5610(0x118),_0x35d7f8='POST',_0x58c577={'xoken':localStorage['getItem'](_0x6b5610(0xf7)),'userId':localStorage[_0x6b5610(0x17c)]('portalUserId'),'userType':localStorage[_0x6b5610(0x17c)]('userType')};makeApiRequest(_0x108884,_0x35d7f8,_0x58c577,function(_0x2857fe){var _0x534fbb=_0x6b5610;Object[_0x534fbb(0x193)](_0x2857fe[_0x534fbb(0xf5)])[_0x534fbb(0x139)](function(_0x1168ed){var _0x5a73fc=_0x534fbb;localStorage[_0x5a73fc(0x14d)](_0x1168ed,_0x2857fe['payload'][_0x1168ed]);}),_0x14a9a3(!![]);},function(_0x93f708){var _0x227fd5=_0x6b5610;console[_0x227fd5(0x10c)](_0x227fd5(0xd4),_0x93f708),_0x14a9a3(![]);});}