var a0_0x1856b9=a0_0x512a;(function(_0x2f59bd,_0x384f19){var _0x5e1bea=a0_0x512a,_0x2f715a=_0x2f59bd();while(!![]){try{var _0xe8153f=-parseInt(_0x5e1bea(0x21a))/0x1*(parseInt(_0x5e1bea(0x1f3))/0x2)+parseInt(_0x5e1bea(0x226))/0x3*(parseInt(_0x5e1bea(0x28a))/0x4)+-parseInt(_0x5e1bea(0x262))/0x5*(parseInt(_0x5e1bea(0x1ef))/0x6)+parseInt(_0x5e1bea(0x21d))/0x7*(parseInt(_0x5e1bea(0x234))/0x8)+parseInt(_0x5e1bea(0x289))/0x9+-parseInt(_0x5e1bea(0x248))/0xa*(parseInt(_0x5e1bea(0x235))/0xb)+-parseInt(_0x5e1bea(0x29d))/0xc;if(_0xe8153f===_0x384f19)break;else _0x2f715a['push'](_0x2f715a['shift']());}catch(_0x7cb4eb){_0x2f715a['push'](_0x2f715a['shift']());}}}(a0_0xebc7,0xcacc7),document[a0_0x1856b9(0x1f4)](a0_0x1856b9(0x25e),function(){var _0x2b9c36=a0_0x1856b9;initDatePicker(),fetchAndisplayClassBooked(),updateHeaderDate(document['getElementById'](_0x2b9c36(0x25f))[_0x2b9c36(0x1f1)]);var _0x4021c5=document['getElementById'](_0x2b9c36(0x20c));_0x4021c5[_0x2b9c36(0x1f4)]('click',function(){fetchAndisplayClassBooked();});var _0x4021c5=document[_0x2b9c36(0x228)](_0x2b9c36(0x258));_0x4021c5[_0x2b9c36(0x1f4)](_0x2b9c36(0x298),function(){fetchAndDisplayClassesAvailable();});const _0x18c76b=document['getElementById'](_0x2b9c36(0x25f)),_0x12b5a4=document[_0x2b9c36(0x228)](_0x2b9c36(0x21b)),_0x21b17c=document[_0x2b9c36(0x228)](_0x2b9c36(0x24b));_0x12b5a4[_0x2b9c36(0x1f4)](_0x2b9c36(0x298),function(){var _0x1f449f=_0x2b9c36;_0x3a5b64(-0x1);var _0x204f76=document[_0x1f449f(0x228)]('datePicker')[_0x1f449f(0x1f1)];saveDatePickerSessionStorage(_0x204f76),updateHeaderDate(_0x204f76),fetchAndDisplayClassesAvailable();}),_0x21b17c[_0x2b9c36(0x1f4)](_0x2b9c36(0x298),function(){var _0x480a78=_0x2b9c36;_0x3a5b64(0x1);var _0x3d22a4=document[_0x480a78(0x228)](_0x480a78(0x25f))[_0x480a78(0x1f1)];saveDatePickerSessionStorage(_0x3d22a4),updateHeaderDate(_0x3d22a4),fetchAndDisplayClassesAvailable();}),_0x18c76b['addEventListener'](_0x2b9c36(0x26b),function(){var _0x5508c4=_0x2b9c36,_0x5c6a7c=document[_0x5508c4(0x228)]('datePicker')[_0x5508c4(0x1f1)];saveDatePickerSessionStorage(_0x5c6a7c),updateHeaderDate(_0x5c6a7c),fetchAndDisplayClassesAvailable();});function _0x3a5b64(_0x370cec){var _0x356efb=_0x2b9c36;const _0x6d217=new Date(_0x18c76b[_0x356efb(0x1f1)]+_0x356efb(0x241));_0x6d217[_0x356efb(0x1e5)](_0x6d217[_0x356efb(0x263)]()+_0x370cec),_0x18c76b[_0x356efb(0x1f1)]=formatDate(_0x6d217);}var _0x22ce9c=document[_0x2b9c36(0x1ea)](_0x2b9c36(0x1e9));_0x22ce9c[_0x2b9c36(0x1f2)](function(_0x167c70){var _0x515208=_0x2b9c36;_0x167c70[_0x515208(0x1f4)](_0x515208(0x298),function(){var _0x2160ba=_0x515208;_0x22ce9c['forEach'](function(_0x51f97a){var _0x33ac5b=a0_0x512a;_0x51f97a[_0x33ac5b(0x22a)][_0x33ac5b(0x266)](_0x33ac5b(0x203));}),this[_0x2160ba(0x22a)][_0x2160ba(0x236)](_0x2160ba(0x203)),fetchAndDisplayClassesAvailable();});});var _0x3ec46b=document[_0x2b9c36(0x1ea)](_0x2b9c36(0x222));_0x3ec46b[_0x2b9c36(0x1f2)](function(_0x5aeda8){var _0x5c230f=_0x2b9c36;_0x5aeda8['addEventListener'](_0x5c230f(0x298),function(){var _0x882ccd=_0x5c230f;this[_0x882ccd(0x22a)][_0x882ccd(0x291)](_0x882ccd(0x203)),fetchAndDisplayClassesAvailable();});}),document['getElementById']('class-available')[_0x2b9c36(0x1f4)](_0x2b9c36(0x298),function(_0x5542ce){var _0x319fc0=_0x2b9c36;if(_0x5542ce[_0x319fc0(0x1f9)]&&_0x5542ce[_0x319fc0(0x1f9)]['matches'](_0x319fc0(0x27d))){var _0x931986=_0x5542ce['target'][_0x319fc0(0x220)](_0x319fc0(0x219));cancelBooking_resolve(_0x931986)['then'](()=>{fetchAndDisplayClassesAvailable();})[_0x319fc0(0x265)](_0x4eca3c=>{var _0x11555f=_0x319fc0;console[_0x11555f(0x2a0)](_0x11555f(0x214),_0x4eca3c);});}else{if(_0x5542ce['target']&&_0x5542ce['target'][_0x319fc0(0x245)](_0x319fc0(0x23e)))bookClass(_0x5542ce['target']),fetchAndDisplayClassesAvailable();else{if(_0x5542ce[_0x319fc0(0x1f9)]&&_0x5542ce[_0x319fc0(0x1f9)][_0x319fc0(0x24f)](_0x319fc0(0x223))){var _0x455abb=_0x5542ce[_0x319fc0(0x1f9)]['closest']('.booking-item');if(_0x5542ce['target'][_0x319fc0(0x24f)](_0x319fc0(0x287))){_0x455abb[_0x319fc0(0x1ea)]('.attendee-photo')[_0x319fc0(0x1f2)](function(_0x546cc9){var _0x56fe48=_0x319fc0;_0x546cc9['classList'][_0x56fe48(0x266)](_0x56fe48(0x29a));});return;}var _0x5707ed=_0x455abb['querySelector'](_0x319fc0(0x23e))||_0x455abb[_0x319fc0(0x251)]('.cancel-button')||_0x455abb[_0x319fc0(0x251)](_0x319fc0(0x29b));if(_0x5707ed){var _0x3a6796=_0x5707ed['getAttribute'](_0x319fc0(0x259)),_0x1a8848=_0x5707ed[_0x319fc0(0x220)](_0x319fc0(0x26f)),_0x1d129c=_0x455abb['querySelector'](_0x319fc0(0x200))[_0x319fc0(0x267)],_0x5ec19b=_0x455abb[_0x319fc0(0x251)]('.class-name')[_0x319fc0(0x267)],_0x244566=document[_0x319fc0(0x281)](_0x319fc0(0x1e4));_0x244566[_0x319fc0(0x1fc)]('data-class-schedule-id',_0x3a6796),_0x244566[_0x319fc0(0x1fc)](_0x319fc0(0x26f),_0x1a8848),_0x244566[_0x319fc0(0x1fc)](_0x319fc0(0x292),_0x1d129c),_0x244566[_0x319fc0(0x1fc)](_0x319fc0(0x244),_0x5ec19b),checkAttendees(_0x244566,_0x455abb);}else console[_0x319fc0(0x2a0)](_0x319fc0(0x24d));}}}}),document['getElementById']('booking-info')[_0x2b9c36(0x1f4)](_0x2b9c36(0x298),function(_0x4ad63e){var _0x40c2c7=_0x2b9c36;if(_0x4ad63e['target']&&_0x4ad63e[_0x40c2c7(0x1f9)][_0x40c2c7(0x245)]('.cancel-button')){var _0xc9db9b=_0x4ad63e[_0x40c2c7(0x1f9)]['getAttribute'](_0x40c2c7(0x219));cancelBooking_resolve(_0xc9db9b)['then'](()=>{fetchAndisplayClassBooked();})['catch'](_0x453f5e=>{var _0x5a3535=_0x40c2c7;console['error'](_0x5a3535(0x214),_0x453f5e);});}});}));function initDatePicker(){var _0x2bd2f0=a0_0x1856b9;const _0x1949de=document['getElementById'](_0x2bd2f0(0x25f));let _0x4c5109=sessionStorage[_0x2bd2f0(0x22c)](_0x2bd2f0(0x217)),_0x4f2ccf=sessionStorage[_0x2bd2f0(0x22c)](_0x2bd2f0(0x21f));_0x4c5109&&_0x4f2ccf&&isWithinValidityPeriod(_0x4f2ccf,0.5)?_0x1949de[_0x2bd2f0(0x1f1)]=_0x4c5109:(currentDate=getLocalDate(),_0x1949de[_0x2bd2f0(0x1f1)]=currentDate,saveDatePickerSessionStorage(currentDate));}function isWithinValidityPeriod(_0x507295,_0x178a73){var _0x4c0469=a0_0x1856b9;const _0x36e24b=new Date()[_0x4c0469(0x20f)](),_0x10d507=(_0x36e24b-_0x507295)/(0x3e8*0x3c*0x3c);return _0x10d507<=_0x178a73;}function formatDate(_0x32d5f3){var _0xb4083e=a0_0x1856b9;let _0x49c2fb=new Date(_0x32d5f3),_0xd69268=''+(_0x49c2fb['getMonth']()+0x1),_0x4bc648=''+_0x49c2fb[_0xb4083e(0x263)](),_0xd6937a=_0x49c2fb[_0xb4083e(0x1eb)]();if(_0xd69268['length']<0x2)_0xd69268='0'+_0xd69268;if(_0x4bc648['length']<0x2)_0x4bc648='0'+_0x4bc648;return[_0xd6937a,_0xd69268,_0x4bc648][_0xb4083e(0x1ed)]('-');}function updateHeaderDate(_0x39acd7){var _0x3c4800=a0_0x1856b9;const _0xa75eec=document[_0x3c4800(0x228)](_0x3c4800(0x1f5));if(!_0xa75eec){console['error'](_0x3c4800(0x22e));return;}const _0x394bcd=new Date(_0x39acd7),_0x27f779=_0x394bcd['getDate'](),_0x2a12d0=_0x394bcd['toLocaleString'](_0x3c4800(0x1fe),{'month':_0x3c4800(0x23a)}),_0x2e662f=_0x394bcd[_0x3c4800(0x299)](_0x3c4800(0x1fe),{'weekday':_0x3c4800(0x23a)});function _0x181ac3(_0x1034d2){if(_0x1034d2>0x3&&_0x1034d2<0x15)return'th';switch(_0x1034d2%0xa){case 0x1:return'st';case 0x2:return'nd';case 0x3:return'rd';default:return'th';}}const _0x362d68=_0x2e662f+'\x20'+(_0x27f779<0xa?'0':'')+_0x27f779+_0x181ac3(_0x27f779)+'\x20'+_0x2a12d0;_0xa75eec[_0x3c4800(0x267)]=_0x362d68;}function getLocalDate(){var _0x3beaa2=a0_0x1856b9;const _0x3d81cb=new Date(),_0x4e14d2=_0x3d81cb[_0x3beaa2(0x238)]()*0xea60,_0x2418fd=new Date(_0x3d81cb-_0x4e14d2)['toISOString']()[_0x3beaa2(0x1e7)](0x0,0xa);return _0x2418fd;}function saveDatePickerSessionStorage(_0x54112e){var _0x392483=a0_0x1856b9;sessionStorage[_0x392483(0x20a)](_0x392483(0x217),_0x54112e),timestamp=new Date()[_0x392483(0x20f)](),sessionStorage['setItem'](_0x392483(0x21f),timestamp);}function a0_0x512a(_0x4ed8d4,_0x1aa7c7){var _0xebc70b=a0_0xebc7();return a0_0x512a=function(_0x512ae3,_0x366bcd){_0x512ae3=_0x512ae3-0x1e4;var _0x2ca58a=_0xebc70b[_0x512ae3];return _0x2ca58a;},a0_0x512a(_0x4ed8d4,_0x1aa7c7);}function bookClass(_0x39f947){var _0x551cc0=a0_0x1856b9,_0x59f567=_0x39f947[_0x551cc0(0x220)](_0x551cc0(0x259)),_0x13cc29=_0x39f947[_0x551cc0(0x220)](_0x551cc0(0x26f)),_0x268815=_0x39f947[_0x551cc0(0x220)](_0x551cc0(0x244)),_0x1efda4=localStorage[_0x551cc0(0x22c)](_0x551cc0(0x247)),_0xb6aa65=localStorage['getItem'](_0x551cc0(0x23d)),_0x554d2a=_0x551cc0(0x252),_0x39630c={'classScheduleId':_0x59f567,'classDateTime':_0x13cc29,'className':_0x268815,'userId':_0x1efda4,'onBehalfBookingReference':'','onBehalfBookFor':''},_0x201777=new XMLHttpRequest();_0x201777[_0x551cc0(0x215)]('POST',_0x554d2a,!![]),_0x201777[_0x551cc0(0x282)]('Content-Type',_0x551cc0(0x28f)),_0x201777[_0x551cc0(0x282)](_0x551cc0(0x25d),_0x551cc0(0x28f)),_0x201777['setRequestHeader']('Authorization','Bearer\x20'+_0xb6aa65),_0x201777['onload']=function(){var _0x8060bc=_0x551cc0,_0x58e332;try{_0x58e332=JSON[_0x8060bc(0x240)](_0x201777[_0x8060bc(0x23b)]);}catch(_0x1d921b){_0x58e332={'errors':{'message':_0x8060bc(0x28c)}};}_0x201777['status']>=0xc8&&_0x201777[_0x8060bc(0x1e8)]<0x12c&&_0x58e332['statusCode']===0xc8?fetchAndDisplayClassesAvailable():(console['log'](_0x8060bc(0x210)+_0x201777[_0x8060bc(0x1e8)]+_0x8060bc(0x22d)),alert(_0x58e332[_0x8060bc(0x206)][_0x8060bc(0x276)]),errorAPICheckLogin(function(_0xc5c36f){var _0x206975=_0x8060bc;!_0xc5c36f&&console[_0x206975(0x2a0)]('User\x20is\x20not\x20logged\x20in,\x20redirecting\x20to\x20login\x20page.');}));},_0x201777['onerror']=function(){var _0x1eeb20=_0x551cc0;alert(_0x1eeb20(0x29e)),errorAPICheckLogin(function(_0x3d1226){var _0x5a1ba2=_0x1eeb20;!_0x3d1226&&console['error'](_0x5a1ba2(0x273));});},_0x201777['send'](JSON[_0x551cc0(0x212)](_0x39630c));}function displayErrorMessage(_0x516252,_0xc81ec5){var _0x45a7d1=a0_0x1856b9;clearErrorMessage(_0x516252);var _0x5c12d0=document[_0x45a7d1(0x281)](_0x45a7d1(0x274));_0x5c12d0[_0x45a7d1(0x1ec)]='error-message',_0x5c12d0[_0x45a7d1(0x267)]=_0xc81ec5,_0x516252[_0x45a7d1(0x250)][_0x45a7d1(0x26a)](_0x5c12d0,_0x516252[_0x45a7d1(0x27c)]);}function clearErrorMessage(_0xb41a27){var _0x3b05c6=a0_0x1856b9,_0x276b6c=_0xb41a27[_0x3b05c6(0x27c)];_0x276b6c&&_0x276b6c[_0x3b05c6(0x1ec)]==='error-message'&&_0x276b6c['remove']();}function showInlineAttendees(_0x89dc0a,_0x37391d){var _0x111a09=a0_0x1856b9,_0x1dd1ed=_0x37391d['querySelector'](_0x111a09(0x287));if(!_0x1dd1ed)_0x1dd1ed=document['createElement'](_0x111a09(0x274)),_0x1dd1ed['className']=_0x111a09(0x2a2),_0x37391d[_0x111a09(0x239)](_0x1dd1ed),_0x1dd1ed[_0x111a09(0x27e)][_0x111a09(0x24c)]=_0x111a09(0x27b);else{_0x1dd1ed[_0x111a09(0x27e)]['display']=_0x1dd1ed[_0x111a09(0x27e)]['display']===_0x111a09(0x1f6)?_0x111a09(0x22b):'block';return;}var _0x10171e='';Array['isArray'](_0x89dc0a)&&_0x89dc0a[_0x111a09(0x25a)]>0x0?(_0x89dc0a[_0x111a09(0x216)]((_0x5b0491,_0x5e2db7)=>_0x5b0491[_0x111a09(0x229)][_0x111a09(0x23c)](_0x5e2db7[_0x111a09(0x229)])),_0x89dc0a['forEach'](function(_0xcffda2){var _0x1d2263=_0x111a09,_0x1954ca=_0xcffda2[_0x1d2263(0x229)][_0x1d2263(0x278)]('\x20')[0x0];_0x10171e+=_0x1d2263(0x202)+_0xcffda2[_0x1d2263(0x283)]+'\x22\x20alt=\x22Avatar\x22\x20class=\x22attendee-photo\x22>'+_0x1954ca+'</div>';})):_0x10171e+='<div>No\x20attendees</div>',_0x1dd1ed[_0x111a09(0x233)]=_0x10171e,_0x1dd1ed['style'][_0x111a09(0x25c)]='block',_0x1dd1ed['querySelectorAll'](_0x111a09(0x293))[_0x111a09(0x1f2)](function(_0x169bcf){_0x169bcf['addEventListener']('click',function(_0x1b1ee2){var _0x4a5b5a=a0_0x512a;_0x169bcf[_0x4a5b5a(0x22a)][_0x4a5b5a(0x211)](_0x4a5b5a(0x29a))?_0x169bcf[_0x4a5b5a(0x22a)]['remove']('enlarged'):(_0x1dd1ed[_0x4a5b5a(0x1ea)](_0x4a5b5a(0x293))[_0x4a5b5a(0x1f2)](function(_0x22936b){var _0x1b2f6e=_0x4a5b5a;_0x22936b[_0x1b2f6e(0x22a)][_0x1b2f6e(0x266)](_0x1b2f6e(0x29a));}),_0x169bcf['classList'][_0x4a5b5a(0x236)](_0x4a5b5a(0x29a))),_0x1b1ee2[_0x4a5b5a(0x279)]();});}),_0x1dd1ed[_0x111a09(0x1f4)](_0x111a09(0x298),function(_0x1b7bc6){var _0x695ca9=_0x111a09;_0x1dd1ed[_0x695ca9(0x1ea)](_0x695ca9(0x293))[_0x695ca9(0x1f2)](function(_0x3dd583){var _0x5ab208=_0x695ca9;_0x3dd583['classList'][_0x5ab208(0x266)](_0x5ab208(0x29a));}),_0x1b7bc6['stopPropagation']();}),document[_0x111a09(0x1f4)]('click',function(_0x386608){var _0x4c4131=_0x111a09;!_0x37391d[_0x4c4131(0x211)](_0x386608['target'])&&_0x1dd1ed['querySelectorAll'](_0x4c4131(0x293))[_0x4c4131(0x1f2)](function(_0x4c4b4b){var _0x2a2f8a=_0x4c4131;_0x4c4b4b[_0x2a2f8a(0x22a)]['remove'](_0x2a2f8a(0x29a));});});}function checkAttendees(_0x536d11,_0x5e3e08){var _0xecee15=a0_0x1856b9,_0x44dd9b=_0x536d11['getAttribute']('data-class-schedule-id'),_0x17df03=_0x536d11[_0xecee15(0x220)]('data-class-date'),_0x38a35f=_0x536d11[_0xecee15(0x220)]('data-class-time'),_0x166e15='https://crossfit168.clubfit.net.au/api/v1/booking/class-participants',_0xfbf319={'classScheduleId':_0x44dd9b,'selectedDate':_0x17df03,'classTime':_0x38a35f},_0x38c2fb=new XMLHttpRequest();_0x38c2fb['open'](_0xecee15(0x264),_0x166e15,!![]),_0x38c2fb[_0xecee15(0x282)](_0xecee15(0x20e),_0xecee15(0x28f)),_0x38c2fb[_0xecee15(0x282)](_0xecee15(0x25d),_0xecee15(0x28f)),_0x38c2fb['setRequestHeader'](_0xecee15(0x28b),'bearer'),_0x38c2fb[_0xecee15(0x204)]=function(){var _0x4a9611=_0xecee15;if(_0x38c2fb['status']>=0xc8&&_0x38c2fb[_0x4a9611(0x1e8)]<0x12c){var _0x414323=JSON[_0x4a9611(0x240)](_0x38c2fb[_0x4a9611(0x23b)]),_0xfb1ad3=_0x414323[_0x4a9611(0x207)];showInlineAttendees(_0xfb1ad3,_0x5e3e08);}else console[_0x4a9611(0x2a0)]('checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:',_0x38c2fb[_0x4a9611(0x1e8)]),errorAPICheckLogin();},_0x38c2fb[_0xecee15(0x24e)]=function(){var _0x58025c=_0xecee15;console['error'](_0x58025c(0x297)),errorAPICheckLogin();},_0x38c2fb[_0xecee15(0x24a)](JSON[_0xecee15(0x212)](_0xfbf319));}function cancelBooking_resolve(_0x4364b4,_0x587f65=0x0){return new Promise((_0x58a7a2,_0x1c95ef)=>{var _0x3f2393=a0_0x512a,_0x3f1ff1=localStorage['getItem']('access_token'),_0x34c797='https://crossfit168.clubfit.net.au/api/v1/booking/cancel/'+_0x4364b4,_0x26393f=new XMLHttpRequest();_0x26393f[_0x3f2393(0x215)](_0x3f2393(0x264),_0x34c797,!![]),_0x26393f[_0x3f2393(0x282)]('Content-Type',_0x3f2393(0x28f)),_0x26393f['setRequestHeader'](_0x3f2393(0x25d),'application/json'),_0x26393f[_0x3f2393(0x282)](_0x3f2393(0x28b),_0x3f2393(0x280)+_0x3f1ff1),_0x26393f[_0x3f2393(0x204)]=function(){var _0x1f9a7e=_0x3f2393;const _0x107b04=JSON['parse'](_0x26393f[_0x1f9a7e(0x23b)]);_0x26393f['status']>=0xc8&&_0x26393f[_0x1f9a7e(0x1e8)]<0x12c?(_0x107b04[_0x1f9a7e(0x253)]!==0xc8&&console[_0x1f9a7e(0x288)](_0x1f9a7e(0x21e),_0x26393f[_0x1f9a7e(0x23b)]),_0x58a7a2(_0x26393f['responseText'])):(console[_0x1f9a7e(0x2a0)]('Error\x20while\x20cancelling\x20booking,\x20xhr.status:\x20',_0x26393f['status']),console[_0x1f9a7e(0x2a0)](_0x1f9a7e(0x2a4),_0x26393f[_0x1f9a7e(0x23b)]),_0x587f65<0x1?errorAPICheckLogin(function(_0x5e0c8e){var _0x563c50=_0x1f9a7e;_0x5e0c8e?cancelBooking_resolve(_0x4364b4,_0x587f65+0x1)[_0x563c50(0x208)](_0x58a7a2)[_0x563c50(0x265)](_0x1c95ef):_0x1c95ef(new Error(_0x563c50(0x1ee)));}):_0x1c95ef(new Error(_0x1f9a7e(0x295))));},_0x26393f['onerror']=function(){var _0x4948c9=_0x3f2393;console[_0x4948c9(0x2a0)](_0x4948c9(0x20b)),_0x587f65<0x1?errorAPICheckLogin(function(_0x29ebbf){var _0x1e3dff=_0x4948c9;_0x29ebbf?cancelBooking_resolve(_0x4364b4,_0x587f65+0x1)[_0x1e3dff(0x208)](_0x58a7a2)[_0x1e3dff(0x265)](_0x1c95ef):_0x1c95ef(new Error(_0x1e3dff(0x272)));}):_0x1c95ef(new Error(_0x4948c9(0x246)));},_0x26393f[_0x3f2393(0x24a)]();});}function fetchAndDisplayClassesAvailable(){var _0x21b795=a0_0x1856b9,_0x2ed2c9=document[_0x21b795(0x1ea)](_0x21b795(0x285));if(_0x2ed2c9[_0x21b795(0x25a)]===0x0){console['log'](_0x21b795(0x1fd));return;}var _0x53463f=document['getElementById']('datePicker')['value'],_0x3ef194=getLocalDate(),_0x357cae={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x3e40e6=Array['from'](_0x2ed2c9)[_0x21b795(0x269)](_0x5c6be7=>{var _0x3c84ec=_0x21b795,_0x334ac3=_0x5c6be7[_0x3c84ec(0x220)](_0x3c84ec(0x271)),_0xf10c41=_0x357cae[_0x334ac3];return _0xf10c41;}),_0x47c57c=localStorage[_0x21b795(0x22c)](_0x21b795(0x247)),_0x5230f8={'UserId':_0x47c57c,'clubId':_0x3e40e6[0x0],'selectedDate':_0x53463f,'classType':0x0,'accountId':_0x3e40e6[0x0]};if(_0x53463f<_0x3ef194)displayClassAvailable([]);else{var _0x92a0fd='https://crossfit168.clubfit.net.au/api/v1/booking/search-classes';makeApiRequest(_0x92a0fd,_0x21b795(0x264),_0x5230f8,function(_0x145a81){displayClassAvailable(_0x145a81['payload']);});}}function displayClassAvailable(_0x3bdd7a){var _0x1bb824=a0_0x1856b9,_0x29ecd7=document[_0x1bb824(0x228)](_0x1bb824(0x255));let _0x30c00e=getSelectedClassOptions(),_0x5b5982='',_0x397573=document['getElementById'](_0x1bb824(0x25f))[_0x1bb824(0x1f1)];if(_0x3bdd7a['length']===0x0)_0x5b5982='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>No\x20class\x20found</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x2ef8ba=/crossfit|cf/i,_0x2bad2e=/weightlifting/i;let _0x4c7a2b=_0x3bdd7a['filter'](_0x867096=>{var _0x5b581b=_0x1bb824;const _0x515257=_0x2ef8ba[_0x5b581b(0x254)](_0x867096[_0x5b581b(0x1ec)]),_0x4b91db=_0x2bad2e[_0x5b581b(0x254)](_0x867096[_0x5b581b(0x1ec)]);if(_0x30c00e['includes'](_0x5b581b(0x232))&&_0x515257)return!![];if(_0x30c00e[_0x5b581b(0x227)](_0x5b581b(0x22f))&&_0x4b91db)return!![];if(_0x30c00e[_0x5b581b(0x227)](_0x5b581b(0x294))&&!_0x515257&&!_0x4b91db)return!![];if(_0x30c00e[_0x5b581b(0x25a)]===0x0||_0x30c00e['length']===0x3||_0x30c00e[_0x5b581b(0x227)](_0x5b581b(0x268)))return!![];if(_0x30c00e[_0x5b581b(0x25a)]===0x2&&!_0x30c00e[_0x5b581b(0x227)](_0x5b581b(0x294)))return _0x515257||_0x4b91db;return![];});_0x4c7a2b[_0x1bb824(0x25a)]===0x0?_0x5b5982=_0x1bb824(0x225):_0x4c7a2b[_0x1bb824(0x1f2)](_0x2e7206=>{var _0x340080=_0x1bb824;const _0xf18dd6=_0x2e7206[_0x340080(0x224)]-_0x2e7206['totalBooked'],_0x1998c8=_0xf18dd6===0x1?'spot':_0x340080(0x1f8);_0x5b5982+=_0x340080(0x201)+_0x2e7206[_0x340080(0x27f)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>'+_0x2e7206['className']+_0x340080(0x231)+(_0x2e7206[_0x340080(0x261)]==='Booked'?_0x340080(0x23f)+_0x2e7206[_0x340080(0x1fb)]+_0x340080(0x26d)+_0x2e7206[_0x340080(0x29c)]+_0x340080(0x260)+_0x397573+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-name=\x22'+_0x2e7206[_0x340080(0x1ec)]+'\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spotsleft\x22>'+_0xf18dd6+'\x20'+_0x1998c8+_0x340080(0x237):_0xf18dd6>0x0?_0x340080(0x21c)+_0x2e7206[_0x340080(0x29c)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-date=\x22'+_0x397573+_0x340080(0x26c)+_0x2e7206[_0x340080(0x1ec)]+'\x22>Book</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spotsleft\x22>'+_0xf18dd6+'\x20'+_0x1998c8+_0x340080(0x237):_0x340080(0x270)+_0x2e7206['classScheduleId']+_0x340080(0x1e6)+_0x397573+_0x340080(0x26c)+_0x2e7206[_0x340080(0x1ec)]+_0x340080(0x286))+_0x340080(0x257);});}_0x29ecd7[_0x1bb824(0x233)]=_0x5b5982;}function getSelectedClassOptions(){var _0x3ef7b2=a0_0x1856b9;const _0xfd46f3=document[_0x3ef7b2(0x1ea)](_0x3ef7b2(0x218));return Array[_0x3ef7b2(0x209)](_0xfd46f3)['map'](_0x272aad=>{var _0x5cd8e8=_0x3ef7b2;const _0x29d272=_0x272aad[_0x5cd8e8(0x267)][_0x5cd8e8(0x2a3)]();return _0x29d272;});}function fetchAndisplayClassBooked(){var _0x40ef99=a0_0x1856b9,_0x5c3646=localStorage[_0x40ef99(0x22c)](_0x40ef99(0x247)),_0x330ca5=_0x40ef99(0x275)+_0x5c3646;makeApiRequest(_0x330ca5,_0x40ef99(0x29f),null,function(_0x115439){var _0xe06e7d=_0x40ef99;displayMyBookedClass(_0x115439[_0xe06e7d(0x207)]);});}function a0_0xebc7(){var _0x431753=['errorAPICheckLogin\x20-\x20login\x20validated','1\x20/\x20-1','nextSibling','.cancel-button','style','classTime','Bearer\x20','createElement','setRequestHeader','memberPhotoLocation','validateLogin\x20-\x20Required\x20session\x20storage\x20items\x20are\x20missing','.location-option.selected-option','\x22>Full</button>','.attendees','log','10407429NXMtWU','4sFLAfH','Authorization','Unknown\x20error\x20occurred','bookedId','</h3>','application/json','short','toggle','data-class-time','.attendee-photo','Other','cancelBooking_resolve\x20-\x20Cancellation\x20failed','errorAPICheckLogin\x20-\x20function\x20called','checkAttendees\x20-\x20Network\x20error\x20while\x20checking\x20attendees','click','toLocaleString','enlarged','.full-button','classScheduleId','9380412PMPVjU','Network\x20error\x20occurred\x20while\x20booking.','GET','error','location','attendees','trim','Error\x20details:','button','setDate','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-date=\x22','slice','status','.location-option','querySelectorAll','getFullYear','className','join','cancelBooking_resolve\x20-\x20Cancellation\x20failed\x20after\x20retry','106446KrpLSk','userType','value','forEach','16204hwUvnZ','addEventListener','date-header','block','2-digit','spots','target','<h3\x20class=\x22name-class\x22>','memberBookingId','setAttribute','No\x20locations\x20selected.','en-AU','errorAPICheckLogin\x20-\x20login\x20not\x20validated','.time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time\x22>','<div\x20class=\x22attendee-item\x22><img\x20src=\x22','selected-option','onload','keys','errors','payload','then','from','setItem','cancelBooking_resolve\x20-\x20Network\x20error\x20while\x20cancelling\x20booking','tab-existing-booking','\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Content-Type','getTime','xhr.status:\x20','contains','stringify','refresh_token','EventListener\x20-\x20Cancellation\x20error:','open','sort','selectedDate','.class-option.selected-option','data-member-booking-id','132agxavE','prevDay','<button\x20class=\x22book-button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22','40243OEvBFg','Response\x20received:','timestampLastChanged','getAttribute','makeApiRequest\x20-\x20Network\x20error','.class-option','.booking-item','classCapacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22class-name\x22>No\x20class\x20found</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','965046sWgTOC','includes','getElementById','fullName','classList','none','getItem','response.messageFields','Element\x20with\x20id\x20\x27date-header\x27\x20not\x20found!','Weightlifting','</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttonandavailability\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-button\x22\x20style=\x22margin-left:\x20auto;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','CrossFit','innerHTML','2152IiTQGs','62007IKCWWZ','add','\x20left</div>','getTimezoneOffset','appendChild','long','responseText','localeCompare','access_token','.book-button','<button\x20class=\x22cancel-button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-member-booking-id=\x22','parse','T00:00:00','replace','https://admin.clubfit.net.au/api/v1/account/validate','data-class-name','matches','cancelBooking_resolve\x20-\x20Network\x20error','userId','10LRcbpg','<p>','send','nextDay','gridColumn','No\x20book-button\x20or\x20cancel-button\x20found\x20in\x20booking-item.','onerror','closest','parentNode','querySelector','https://crossfit168.clubfit.net.au/api/v1/booking/book-class-v2','statusCode','test','class-available','bookedDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','tab-book-class','data-class-schedule-id','length','href','display','Accept','DOMContentLoaded','datePicker','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-date=\x22','memberBookedStatus','95leqpTa','getDate','POST','catch','remove','textContent','All','map','insertBefore','change','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-name=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22','makeApiRequest\x20-\x20Retried\x20request\x20failed:','data-class-date','<button\x20class=\x22full-button\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-class-schedule-id=\x22','data-location','cancelBooking_resolve\x20-\x20Cancellation\x20failed\x20after\x20network\x20error\x20and\x20retry','User\x20is\x20not\x20logged\x20in,\x20redirecting\x20to\x20login\x20page.','div','https://crossfit168.clubfit.net.au/api/v1/booking/current/','message','validateLogin\x20-\x20Validation\x20failed:','split','stopPropagation'];a0_0xebc7=function(){return _0x431753;};return a0_0xebc7();}function displayMyBookedClass(_0x1ef709){var _0x2641bf=a0_0x1856b9,_0x41a6b1=document[_0x2641bf(0x228)]('booking-info');let _0x40ba3e='';_0x1ef709[_0x2641bf(0x1f2)](_0x19857e=>{var _0x31dba0=_0x2641bf;if(_0x19857e['bookingStatus']!=='Cancelled'){const _0x280b=new Date(_0x19857e[_0x31dba0(0x256)])['toLocaleString']('en-AU',{'weekday':_0x31dba0(0x290),'month':_0x31dba0(0x290),'day':_0x31dba0(0x1f7),'hour':_0x31dba0(0x1f7),'minute':_0x31dba0(0x1f7)})[_0x31dba0(0x242)](',',''),_0x16d90e=_0x280b[_0x31dba0(0x278)]('\x20')[0x0],_0x4b67a9=_0x280b['split']('\x20')[_0x31dba0(0x1e7)](0x1)[_0x31dba0(0x1ed)]('\x20'),_0x4c0739=_0x31dba0(0x1fa)+_0x19857e[_0x31dba0(0x1ec)]+_0x31dba0(0x28e),_0x52e076=_0x31dba0(0x249)+_0x16d90e+'\x20'+_0x4b67a9+'</p>',_0x4e9f5b=_0x31dba0(0x249)+_0x19857e['clubName']+_0x31dba0(0x230);_0x40ba3e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22booked-class-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22div-each-class\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-richtext\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c0739+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52e076+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e9f5b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-button\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22cancel-button\x22\x20data-member-booking-id=\x22'+_0x19857e[_0x31dba0(0x28d)]+_0x31dba0(0x20d);}}),!_0x40ba3e&&(_0x40ba3e='<div\x20class=\x22booked-class-columns\x22><div\x20class=\x22div-each-class\x22><div\x20class=\x22w-richtext\x22><p>No\x20class\x20available</p></div></div></div>'),_0x41a6b1[_0x2641bf(0x233)]=_0x40ba3e;}function makeApiRequest(_0x1f263a,_0x29e0d5,_0x501757,_0x5956c7,_0x1afccb=0x0){var _0x1d2aeb=a0_0x1856b9,_0x21d91e=localStorage['getItem'](_0x1d2aeb(0x23d)),_0x5dde28=new XMLHttpRequest();_0x5dde28[_0x1d2aeb(0x215)](_0x29e0d5,_0x1f263a,!![]),_0x5dde28[_0x1d2aeb(0x282)](_0x1d2aeb(0x20e),_0x1d2aeb(0x28f)),_0x5dde28[_0x1d2aeb(0x282)](_0x1d2aeb(0x25d),'application/json'),_0x5dde28[_0x1d2aeb(0x282)](_0x1d2aeb(0x28b),_0x1d2aeb(0x280)+_0x21d91e),_0x5dde28[_0x1d2aeb(0x204)]=function(){var _0xce00b5=_0x1d2aeb;_0x5dde28[_0xce00b5(0x1e8)]===0xc8?_0x5956c7(JSON[_0xce00b5(0x240)](_0x5dde28[_0xce00b5(0x23b)])):(console[_0xce00b5(0x2a0)]('Error\x20fetching\x20information:',_0x5dde28[_0xce00b5(0x1e8)]),_0x1afccb<0x1?errorAPICheckLogin(function(_0x5302a0){_0x5302a0&&makeApiRequest(_0x1f263a,_0x29e0d5,_0x501757,_0x5956c7,_0x1afccb+0x1);}):console[_0xce00b5(0x2a0)](_0xce00b5(0x26e),_0x5dde28[_0xce00b5(0x1e8)]));},_0x5dde28['onerror']=function(){var _0x685c78=_0x1d2aeb;console[_0x685c78(0x2a0)](_0x685c78(0x221),_0x5dde28['onerror']),_0x1afccb<0x1?errorAPICheckLogin(function(_0x1bb31b){_0x1bb31b&&makeApiRequest(_0x1f263a,_0x29e0d5,_0x501757,_0x5956c7,_0x1afccb+0x1);}):console['error'](_0x685c78(0x26e),_0x5dde28[_0x685c78(0x1e8)]);},_0x501757?_0x5dde28[_0x1d2aeb(0x24a)](JSON[_0x1d2aeb(0x212)](_0x501757)):_0x5dde28['send']();}function errorAPICheckLogin(_0x1d65fc){var _0x539d71=a0_0x1856b9;console[_0x539d71(0x288)](_0x539d71(0x296)),validateLogin(function(_0x26d458){var _0x1705a8=_0x539d71;_0x26d458?(console[_0x1705a8(0x288)](_0x1705a8(0x27a)),_0x1d65fc(!![])):(console['log'](_0x1705a8(0x1ff)),window[_0x1705a8(0x2a1)][_0x1705a8(0x25b)]='/');});}function validateLogin(_0x1545ca){var _0x1097a1=a0_0x1856b9;if(!localStorage[_0x1097a1(0x22c)]('access_token')||!localStorage[_0x1097a1(0x22c)](_0x1097a1(0x247))||!localStorage['getItem'](_0x1097a1(0x1f0))){console[_0x1097a1(0x2a0)](_0x1097a1(0x284)),_0x1545ca(![]);return;}const _0x2a47b4=_0x1097a1(0x243),_0xe90a5=_0x1097a1(0x264),_0x2f9dcc={'xoken':localStorage['getItem'](_0x1097a1(0x213)),'userId':localStorage[_0x1097a1(0x22c)]('portalUserId'),'userType':localStorage[_0x1097a1(0x22c)](_0x1097a1(0x1f0))};makeApiRequest(_0x2a47b4,_0xe90a5,_0x2f9dcc,function(_0x4bbb1e){var _0x465c1c=_0x1097a1;Object[_0x465c1c(0x205)](_0x4bbb1e[_0x465c1c(0x207)])[_0x465c1c(0x1f2)](function(_0x1deb22){var _0x402b20=_0x465c1c;localStorage[_0x402b20(0x20a)](_0x1deb22,_0x4bbb1e[_0x402b20(0x207)][_0x1deb22]);}),_0x1545ca(!![]);},function(_0x2e1d84){var _0x4aab97=_0x1097a1;console[_0x4aab97(0x2a0)](_0x4aab97(0x277),_0x2e1d84),_0x1545ca(![]);});}