const a0_0x411434=a0_0x1c66;(function(_0x435337,_0x176e7f){const _0x1d24e9=a0_0x1c66,_0x1f555f=_0x435337();while(!![]){try{const _0x23598b=-parseInt(_0x1d24e9(0x174))/0x1+-parseInt(_0x1d24e9(0x15b))/0x2+parseInt(_0x1d24e9(0x168))/0x3*(parseInt(_0x1d24e9(0x18b))/0x4)+parseInt(_0x1d24e9(0x179))/0x5*(parseInt(_0x1d24e9(0x178))/0x6)+-parseInt(_0x1d24e9(0x152))/0x7+parseInt(_0x1d24e9(0x187))/0x8+-parseInt(_0x1d24e9(0x14a))/0x9*(parseInt(_0x1d24e9(0x16d))/0xa);if(_0x23598b===_0x176e7f)break;else _0x1f555f['push'](_0x1f555f['shift']());}catch(_0x49d3cc){_0x1f555f['push'](_0x1f555f['shift']());}}}(a0_0xa514,0xd9ae6),document[a0_0x411434(0x16a)]('DOMContentLoaded',()=>{initializePage(),setInterval(()=>{initializePage();},0xea60);}));function a0_0xa514(){const _0x13ec9b=['148154PCYWaS','\x20in\x20','Mobility','getTimezoneOffset','18JAGkZz','1996840OqBujs','href','Member','img','split','location','Crossfit','div','querySelector','long','attendee-picture','appendChild','payload','No\x20class\x20to\x20display','6292240hTFGKY','en-AU','POST','createElement','324BirGas','status','src','title-coachview','errors','log','response.errors.message:\x20','forEach','Upcoming\x20class\x20within\x2010\x20minutes:\x20','fullName','hasAttended','memberPhotoLocation','771021lCNIHB','attendee-class','getDate','Error\x20fetching\x20classes:','No\x20classes\x20found.','\x20-\x20','toLocaleDateString','length','6275080xkAokd','Zone','alt','Current\x20class\x20happening:\x20','name-attendee','stringify','\x20minutes','No\x20class\x20found\x20to\x20display','checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:','48284rJavgn','add','Number\x20of\x20participants:\x20','textContent','getMonth','classDuration','slice','classList','className','json','innerHTML','message','toISOString','37176xmHiKx','error','addEventListener','getElementById','classTime','120bPyVgC','application/json','No\x20current\x20or\x20immediate\x20upcoming\x20class\x20found.\x20Closest\x20upcoming\x20class:\x20','https://crossfit168.clubfit.net.au/api/v1/booking/class-participants','https://clubfitassets.s3.ap-southeast-2.amazonaws.com/common/avatar_default.png','https://crossfit168.clubfit.net.au/api/v1/booking/search-classes-current-date','classScheduleId'];a0_0xa514=function(){return _0x13ec9b;};return a0_0xa514();}async function initializePage(){const _0x47f1be=a0_0x411434,_0x2779b4=getLocalDate(),_0x28a719=new URL(window[_0x47f1be(0x17e)][_0x47f1be(0x17a)]),_0x25c134=_0x28a719['pathname']['split']('-'),_0x5c0efc='ALX',_0x16f715='Zone',_0x5e1440=await findClassCurrentDate(_0x2779b4,_0x5c0efc);if(_0x5e1440!==_0x47f1be(0x14e)){const _0x156148=findClassToDisplay(_0x5e1440,_0x16f715);if(_0x156148){const _0x517f1f=_0x156148[_0x47f1be(0x173)],_0x767134=_0x156148[_0x47f1be(0x16c)],_0x4e287f=await fetchAndDisplayAttendees(_0x517f1f,_0x2779b4,_0x767134);console[_0x47f1be(0x143)](_0x47f1be(0x15d)+_0x4e287f[_0x47f1be(0x151)]),_0x4e287f&&showAttendees(_0x4e287f),updateTitle(_0x156148[_0x47f1be(0x163)],_0x767134,_0x2779b4,_0x5c0efc);}else console[_0x47f1be(0x143)](_0x47f1be(0x186));}else{console['log'](_0x47f1be(0x14e));const _0x442940=document[_0x47f1be(0x181)]('.class-attendees');_0x442940[_0x47f1be(0x165)]='';const _0x47faf1=document[_0x47f1be(0x16b)](_0x47f1be(0x141));_0x47faf1['textContent']='No\x20Class\x20found';}}async function findClassCurrentDate(_0x466e74,_0x1d773e){const _0x71fdc6=a0_0x411434,_0x36b706={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x36d968=_0x36b706[_0x1d773e];let _0x369d73,_0x4116dc;_0x369d73={'UserId':'','clubId':_0x36d968,'selectedDate':_0x466e74,'department':_0x71fdc6(0x17b),'imageHeight':0x12c,'imageWidth':0x1f4},_0x4116dc=_0x71fdc6(0x172);try{const _0x4f268a=await makeApiRequest_noToken(_0x4116dc,_0x71fdc6(0x189),_0x369d73);return _0x4f268a[_0x71fdc6(0x142)]&&_0x4f268a[_0x71fdc6(0x142)]['message']?(console[_0x71fdc6(0x143)](_0x71fdc6(0x144)+_0x4f268a[_0x71fdc6(0x142)]['message']),_0x4f268a[_0x71fdc6(0x142)][_0x71fdc6(0x166)]):_0x4f268a[_0x71fdc6(0x185)];}catch(_0x467a1e){console[_0x71fdc6(0x169)](_0x71fdc6(0x14d),_0x467a1e);}}function findClassToDisplay(_0x1f4c8c,_0x5d04e3){const _0x2fb010=a0_0x411434;console[_0x2fb010(0x143)]('Finding\x20class\x20to\x20display...');_0x5d04e3===_0x2fb010(0x17f)?_0x5d04e3=['Crossfit','Skill',_0x2fb010(0x176),_0x2fb010(0x153)]:_0x5d04e3=['Weightlifting'];const _0x2a1b50=new Date();let _0x105504=null,_0xf4eeae=Infinity;for(let _0x4a0469=0x0;_0x4a0469<_0x1f4c8c['length'];_0x4a0469++){let _0x303a7d=_0x1f4c8c[_0x4a0469];if(_0x5d04e3['includes'](_0x303a7d['className'])){const [_0xb5ace9,_0x3fbcc3,_0x347d59]=_0x303a7d['classStartTime'][_0x2fb010(0x17d)](':')['map'](Number);let _0x485530=new Date();_0x485530['setHours'](_0xb5ace9,_0x3fbcc3,_0x347d59,0x0);let _0x1e3435=(_0x485530-_0x2a1b50)/(0x3e8*0x3c);console['log']('Time\x20difference\x20for\x20'+_0x303a7d[_0x2fb010(0x163)]+':\x20'+_0x1e3435+_0x2fb010(0x158));if(_0x1e3435<=0x0&&_0x1e3435>=-parseInt(_0x303a7d[_0x2fb010(0x160)]))return console[_0x2fb010(0x143)](_0x2fb010(0x155)+_0x303a7d[_0x2fb010(0x163)]),_0x303a7d;if(_0x1e3435>0x0&&_0x1e3435<=0xa)return console[_0x2fb010(0x143)](_0x2fb010(0x146)+_0x303a7d['className']),_0x303a7d;_0x1e3435>0xa&&_0x1e3435<_0xf4eeae&&(_0xf4eeae=_0x1e3435,_0x105504=_0x303a7d);}}return _0x105504?console[_0x2fb010(0x143)](_0x2fb010(0x16f)+_0x105504[_0x2fb010(0x163)]+_0x2fb010(0x175)+_0xf4eeae+_0x2fb010(0x158)):console[_0x2fb010(0x143)](_0x2fb010(0x159)),_0x105504;}async function fetchAndDisplayAttendees(_0x51b329,_0x13e500,_0x3bac51){const _0x81efdc=a0_0x411434,_0x4b18ff=_0x81efdc(0x170),_0x200f0c={'classScheduleId':_0x51b329,'selectedDate':_0x13e500,'classTime':_0x3bac51};try{const _0x50088d=await makeApiRequest_noToken(_0x4b18ff,'POST',_0x200f0c),_0x3b902a=_0x50088d[_0x81efdc(0x185)];return _0x3b902a;}catch(_0xb7b697){console['error'](_0x81efdc(0x15a),_0xb7b697);}}function showAttendees(_0x5c3201){const _0xac58d8=a0_0x411434,_0x3ada46=document[_0xac58d8(0x181)]('.class-attendees');_0x3ada46[_0xac58d8(0x165)]='';let _0xcc372d=0x0;_0x5c3201[_0xac58d8(0x145)](_0x35cfd8=>{const _0x6fb7b1=_0xac58d8;console[_0x6fb7b1(0x143)]('todo:\x20re-add\x20filter\x20on\x20only\x20checked-in');if(_0x35cfd8[_0x6fb7b1(0x148)]){_0xcc372d++;const _0x3396d0=document[_0x6fb7b1(0x18a)](_0x6fb7b1(0x180));_0x3396d0['classList'][_0x6fb7b1(0x15c)](_0x6fb7b1(0x14b));const _0x4d8224=document['createElement'](_0x6fb7b1(0x17c));_0x4d8224[_0x6fb7b1(0x18d)]=_0x35cfd8[_0x6fb7b1(0x149)]||_0x6fb7b1(0x171),_0x4d8224[_0x6fb7b1(0x154)]=_0x35cfd8[_0x6fb7b1(0x147)],_0x4d8224[_0x6fb7b1(0x162)]['add'](_0x6fb7b1(0x183));const _0x499822=document[_0x6fb7b1(0x18a)](_0x6fb7b1(0x180));_0x499822[_0x6fb7b1(0x162)][_0x6fb7b1(0x15c)](_0x6fb7b1(0x156)),_0x499822[_0x6fb7b1(0x15e)]=_0x35cfd8[_0x6fb7b1(0x147)],_0x3396d0[_0x6fb7b1(0x184)](_0x4d8224),_0x3396d0[_0x6fb7b1(0x184)](_0x499822),_0x3ada46[_0x6fb7b1(0x184)](_0x3396d0);}}),console[_0xac58d8(0x143)]('Number\x20of\x20users\x20signed\x20in:\x20'+_0xcc372d);}async function makeApiRequest_noToken(_0x5322bf,_0x484e47,_0x40933a){const _0xe185e1=a0_0x411434,_0x15330a={'Content-Type':'application/json','Accept':_0xe185e1(0x16e),'Authorization':'Bearer'},_0x3b4b35={'method':_0x484e47,'headers':_0x15330a,'body':JSON[_0xe185e1(0x157)](_0x40933a)},_0x487aa0=await fetch(_0x5322bf,_0x3b4b35);if(!_0x487aa0['ok'])throw new Error('HTTP\x20error!\x20status:\x20'+_0x487aa0[_0xe185e1(0x18c)]);return await _0x487aa0[_0xe185e1(0x164)]();}function a0_0x1c66(_0x3caa07,_0x390b65){const _0xa514a6=a0_0xa514();return a0_0x1c66=function(_0x1c6630,_0x2a3004){_0x1c6630=_0x1c6630-0x141;let _0x10eaea=_0xa514a6[_0x1c6630];return _0x10eaea;},a0_0x1c66(_0x3caa07,_0x390b65);}function getLocalDate(){const _0x4bda83=a0_0x411434,_0x1198a7=new Date(),_0x26548d=_0x1198a7[_0x4bda83(0x177)]()*0xea60,_0x5ef0aa=new Date(_0x1198a7-_0x26548d)[_0x4bda83(0x167)]()[_0x4bda83(0x161)](0x0,0xa);return _0x5ef0aa;}function updateTitle(_0x5ca106,_0xaa40df,_0x9e2a30,_0x3f08ea){const _0x53e134=a0_0x411434,_0x469a66=document[_0x53e134(0x16b)]('title-coachview'),_0x18e62d=new Date(_0x9e2a30),_0x159ae0=_0x18e62d[_0x53e134(0x150)](_0x53e134(0x188),{'weekday':_0x53e134(0x182)}),_0x3368bf=_0x159ae0+'\x20'+_0x18e62d[_0x53e134(0x14c)]()+'/'+(_0x18e62d[_0x53e134(0x15f)]()+0x1),_0x4c976f=_0x5ca106+'\x20'+_0xaa40df+_0x53e134(0x14f)+_0x3368bf+_0x53e134(0x14f)+_0x3f08ea;_0x469a66['textContent']=_0x4c976f;}