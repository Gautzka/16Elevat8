const a0_0x5b178d=a0_0x422b;(function(_0x531a0a,_0x5de556){const _0x57e459=a0_0x422b,_0x129568=_0x531a0a();while(!![]){try{const _0x54562b=parseInt(_0x57e459(0x132))/0x1*(parseInt(_0x57e459(0x157))/0x2)+-parseInt(_0x57e459(0x15c))/0x3*(parseInt(_0x57e459(0x14e))/0x4)+parseInt(_0x57e459(0x141))/0x5+parseInt(_0x57e459(0x130))/0x6*(-parseInt(_0x57e459(0x176))/0x7)+parseInt(_0x57e459(0x16f))/0x8*(-parseInt(_0x57e459(0x135))/0x9)+-parseInt(_0x57e459(0x169))/0xa+-parseInt(_0x57e459(0x16b))/0xb*(-parseInt(_0x57e459(0x160))/0xc);if(_0x54562b===_0x5de556)break;else _0x129568['push'](_0x129568['shift']());}catch(_0x2c9abb){_0x129568['push'](_0x129568['shift']());}}}(a0_0x2d87,0x19e67),document[a0_0x5b178d(0x13e)](a0_0x5b178d(0x15f),()=>{initializePage(),setInterval(()=>{initializePage();},0xea60);}));async function initializePage(){const _0x3e2125=a0_0x5b178d,_0x1c80e1=getLocalDate(),_0x33b97b=new URL(window['location'][_0x3e2125(0x163)]),_0x7b9232=_0x33b97b['pathname'][_0x3e2125(0x159)]('-'),_0x2d224e=_0x3e2125(0x12b),_0x25e3d8=_0x3e2125(0x13a),_0x3ed5c9=await findClassCurrentDate(_0x1c80e1,_0x2d224e);if(_0x3ed5c9!==_0x3e2125(0x13f)){const _0x5ab2d9=findClassToDisplay(_0x3ed5c9,_0x25e3d8);if(_0x5ab2d9){const _0x4f432b=_0x5ab2d9['classScheduleId'],_0x420988=_0x5ab2d9['classTime'],_0x14a37c=await fetchAndDisplayAttendees(_0x4f432b,_0x1c80e1,_0x420988);console[_0x3e2125(0x144)](_0x3e2125(0x164)+_0x14a37c[_0x3e2125(0x162)]),_0x14a37c&&showAttendees(_0x14a37c),updateTitle(_0x5ab2d9[_0x3e2125(0x12c)],_0x420988,_0x1c80e1,_0x2d224e);}else console['log']('No\x20class\x20to\x20display');}else{console['log']('No\x20classes\x20found.');const _0x511fc3=document[_0x3e2125(0x145)](_0x3e2125(0x12e));_0x511fc3[_0x3e2125(0x154)]='';const _0x3c7fde=document[_0x3e2125(0x170)]('title-coachview');_0x3c7fde[_0x3e2125(0x125)]='No\x20Class\x20found';}}function a0_0x2d87(){const _0x36b747=['Zone','Number\x20of\x20users\x20signed\x20in:\x20','title-coachview','Upcoming\x20class\x20within\x2010\x20minutes:\x20','addEventListener','No\x20classes\x20found.','map','86620VduvGU','name-attendee','src','log','querySelector','message','response.errors.message:\x20','img','application/json','https://crossfit168.clubfit.net.au/api/v1/booking/search-classes-current-date','No\x20class\x20found\x20to\x20display','div','Current\x20class\x20happening:\x20','20kAWGKh','classDuration','hasAttended','Error\x20fetching\x20classes:','slice','status','innerHTML','fullName','createElement','14632uSLCZx','errors','split','Weightlifting','toISOString','96519NIjAoK','attendee-class','memberPhotoLocation','DOMContentLoaded','9780NngYXI','add','length','href','Number\x20of\x20participants:\x20','appendChild','long','payload','No\x20current\x20or\x20immediate\x20upcoming\x20class\x20found.\x20Closest\x20upcoming\x20class:\x20','382410OmpvfY','https://crossfit168.clubfit.net.au/api/v1/booking/class-participants','2827wbfNwx','json','en-AU','setHours','46808gQpAkM','getElementById','classStartTime','POST','includes','Mobility','\x20in\x20','12019aPhYKW','HTTP\x20error!\x20status:\x20','getTimezoneOffset','textContent','Bearer','error','\x20-\x20','Finding\x20class\x20to\x20display...','forEach','ALX','className','classList','.class-attendees','stringify','222nqRESS','getMonth','25TTYLEV','Time\x20difference\x20for\x20','checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:','63pQiZUL','\x20minutes','Crossfit','attendee-picture','toLocaleDateString'];a0_0x2d87=function(){return _0x36b747;};return a0_0x2d87();}async function findClassCurrentDate(_0x67a68a,_0x56e2e7){const _0x4e4da7=a0_0x5b178d,_0x4261f4={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x389698=_0x4261f4[_0x56e2e7];let _0x16d619,_0x1fa8bf;_0x16d619={'UserId':'','clubId':_0x389698,'selectedDate':_0x67a68a,'department':'Member','imageHeight':0x12c,'imageWidth':0x1f4},_0x1fa8bf=_0x4e4da7(0x14a);try{const _0x3e7453=await makeApiRequest_noToken(_0x1fa8bf,'POST',_0x16d619);return _0x3e7453[_0x4e4da7(0x158)]&&_0x3e7453[_0x4e4da7(0x158)][_0x4e4da7(0x146)]?(console[_0x4e4da7(0x144)](_0x4e4da7(0x147)+_0x3e7453[_0x4e4da7(0x158)][_0x4e4da7(0x146)]),_0x3e7453[_0x4e4da7(0x158)][_0x4e4da7(0x146)]):_0x3e7453[_0x4e4da7(0x167)];}catch(_0x2566f7){console[_0x4e4da7(0x127)](_0x4e4da7(0x151),_0x2566f7);}}function findClassToDisplay(_0x313960,_0x5a8321){const _0x5536df=a0_0x5b178d;console[_0x5536df(0x144)](_0x5536df(0x129));_0x5a8321===_0x5536df(0x137)?_0x5a8321=[_0x5536df(0x137),'Skill',_0x5536df(0x174),'Zone']:_0x5a8321=[_0x5536df(0x15a)];const _0x4d33c9=new Date();let _0x4bbba4=null,_0x5d7d3a=Infinity;for(let _0x370b34=0x0;_0x370b34<_0x313960[_0x5536df(0x162)];_0x370b34++){let _0x5cd42b=_0x313960[_0x370b34];if(_0x5a8321[_0x5536df(0x173)](_0x5cd42b[_0x5536df(0x12c)])){const [_0x1d26a9,_0x4b6949,_0x3501a0]=_0x5cd42b[_0x5536df(0x171)]['split'](':')[_0x5536df(0x140)](Number);let _0x274a5b=new Date();_0x274a5b[_0x5536df(0x16e)](_0x1d26a9,_0x4b6949,_0x3501a0,0x0);let _0x3a38ca=(_0x274a5b-_0x4d33c9)/(0x3e8*0x3c);console[_0x5536df(0x144)](_0x5536df(0x133)+_0x5cd42b[_0x5536df(0x12c)]+':\x20'+_0x3a38ca+'\x20minutes');if(_0x3a38ca<=0x0&&_0x3a38ca>=-parseInt(_0x5cd42b[_0x5536df(0x14f)]))return console['log'](_0x5536df(0x14d)+_0x5cd42b[_0x5536df(0x12c)]),_0x5cd42b;if(_0x3a38ca>0x0&&_0x3a38ca<=0xa)return console[_0x5536df(0x144)](_0x5536df(0x13d)+_0x5cd42b[_0x5536df(0x12c)]),_0x5cd42b;_0x3a38ca>0xa&&_0x3a38ca<_0x5d7d3a&&(_0x5d7d3a=_0x3a38ca,_0x4bbba4=_0x5cd42b);}}return _0x4bbba4?console[_0x5536df(0x144)](_0x5536df(0x168)+_0x4bbba4[_0x5536df(0x12c)]+_0x5536df(0x175)+_0x5d7d3a+_0x5536df(0x136)):console[_0x5536df(0x144)](_0x5536df(0x14b)),_0x4bbba4;}async function fetchAndDisplayAttendees(_0x8e9df8,_0x349f15,_0x1020f7){const _0x215227=a0_0x5b178d,_0x1c82d6=_0x215227(0x16a),_0x4ee437={'classScheduleId':_0x8e9df8,'selectedDate':_0x349f15,'classTime':_0x1020f7};try{const _0x1b9195=await makeApiRequest_noToken(_0x1c82d6,_0x215227(0x172),_0x4ee437),_0x321fd5=_0x1b9195[_0x215227(0x167)];return _0x321fd5;}catch(_0x1375ad){console['error'](_0x215227(0x134),_0x1375ad);}}function a0_0x422b(_0x4b5fd1,_0x4d6603){const _0x2d8794=a0_0x2d87();return a0_0x422b=function(_0x422b04,_0x1ca144){_0x422b04=_0x422b04-0x125;let _0x126206=_0x2d8794[_0x422b04];return _0x126206;},a0_0x422b(_0x4b5fd1,_0x4d6603);}function showAttendees(_0x2d579b){const _0x1963be=a0_0x5b178d,_0x38eca2=document[_0x1963be(0x145)](_0x1963be(0x12e));_0x38eca2[_0x1963be(0x154)]='';let _0x30b6ed=0x0;_0x2d579b[_0x1963be(0x12a)](_0x9db90d=>{const _0x3a7e01=_0x1963be;console['log']('todo:\x20re-add\x20filter\x20on\x20only\x20checked-in');if(_0x9db90d[_0x3a7e01(0x150)]){_0x30b6ed++;const _0x1a1cb0=document[_0x3a7e01(0x156)](_0x3a7e01(0x14c));_0x1a1cb0['classList'][_0x3a7e01(0x161)](_0x3a7e01(0x15d));const _0x1965fa=document[_0x3a7e01(0x156)](_0x3a7e01(0x148));_0x1965fa[_0x3a7e01(0x143)]=_0x9db90d[_0x3a7e01(0x15e)]||'https://clubfitassets.s3.ap-southeast-2.amazonaws.com/common/avatar_default.png',_0x1965fa['alt']=_0x9db90d[_0x3a7e01(0x155)],_0x1965fa[_0x3a7e01(0x12d)][_0x3a7e01(0x161)](_0x3a7e01(0x138));const _0x2d7329=document[_0x3a7e01(0x156)](_0x3a7e01(0x14c));_0x2d7329[_0x3a7e01(0x12d)][_0x3a7e01(0x161)](_0x3a7e01(0x142)),_0x2d7329[_0x3a7e01(0x125)]=_0x9db90d['fullName'],_0x1a1cb0[_0x3a7e01(0x165)](_0x1965fa),_0x1a1cb0['appendChild'](_0x2d7329),_0x38eca2[_0x3a7e01(0x165)](_0x1a1cb0);}}),console[_0x1963be(0x144)](_0x1963be(0x13b)+_0x30b6ed);}async function makeApiRequest_noToken(_0x5abe7b,_0x59f4c1,_0x111985){const _0xdffe87=a0_0x5b178d,_0x3e7834={'Content-Type':_0xdffe87(0x149),'Accept':_0xdffe87(0x149),'Authorization':_0xdffe87(0x126)},_0x1eaff9={'method':_0x59f4c1,'headers':_0x3e7834,'body':JSON[_0xdffe87(0x12f)](_0x111985)},_0x2d3ad4=await fetch(_0x5abe7b,_0x1eaff9);if(!_0x2d3ad4['ok'])throw new Error(_0xdffe87(0x177)+_0x2d3ad4[_0xdffe87(0x153)]);return await _0x2d3ad4[_0xdffe87(0x16c)]();}function getLocalDate(){const _0x5a330b=a0_0x5b178d,_0x427141=new Date(),_0x1fa250=_0x427141[_0x5a330b(0x178)]()*0xea60,_0x4cd5cb=new Date(_0x427141-_0x1fa250)[_0x5a330b(0x15b)]()[_0x5a330b(0x152)](0x0,0xa);return _0x4cd5cb;}function updateTitle(_0x1c1b20,_0x1fc025,_0x21f68f,_0x534dad){const _0x2b9931=a0_0x5b178d,_0x581064=document[_0x2b9931(0x170)](_0x2b9931(0x13c)),_0x4dec1a=new Date(_0x21f68f),_0x1e6c19=_0x4dec1a[_0x2b9931(0x139)](_0x2b9931(0x16d),{'weekday':_0x2b9931(0x166)}),_0xcc0674=_0x1e6c19+'\x20'+_0x4dec1a['getDate']()+'/'+(_0x4dec1a[_0x2b9931(0x131)]()+0x1),_0x289f1e=_0x1c1b20+'\x20'+_0x1fc025+_0x2b9931(0x128)+_0xcc0674+_0x2b9931(0x128)+_0x534dad;_0x581064['textContent']=_0x289f1e;}