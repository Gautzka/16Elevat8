const a0_0x561ddd=a0_0xd222;(function(_0x31b184,_0x2e2d8f){const _0x5579e4=a0_0xd222,_0xaf9511=_0x31b184();while(!![]){try{const _0x30e966=parseInt(_0x5579e4(0xa2))/0x1+parseInt(_0x5579e4(0x8e))/0x2*(-parseInt(_0x5579e4(0xa1))/0x3)+parseInt(_0x5579e4(0x8a))/0x4*(-parseInt(_0x5579e4(0xae))/0x5)+-parseInt(_0x5579e4(0xa8))/0x6+parseInt(_0x5579e4(0xa5))/0x7+-parseInt(_0x5579e4(0x83))/0x8*(-parseInt(_0x5579e4(0x7f))/0x9)+-parseInt(_0x5579e4(0xa3))/0xa;if(_0x30e966===_0x2e2d8f)break;else _0xaf9511['push'](_0xaf9511['shift']());}catch(_0x13eb21){_0xaf9511['push'](_0xaf9511['shift']());}}}(a0_0x410a,0x89036),document['addEventListener'](a0_0x561ddd(0x70),()=>{initializePage(),setInterval(()=>{initializePage();},0xea60);}));async function initializePage(){const _0x23c7ca=a0_0x561ddd,_0x33e645=getLocalDate(),_0x362997=new URL(window[_0x23c7ca(0x8d)]['href']),_0x4d706d=_0x362997[_0x23c7ca(0x7c)][_0x23c7ca(0xb2)]('-'),_0x47b690=_0x23c7ca(0x6a),_0x42fc9f=_0x23c7ca(0x6f),_0x465c96=await findClassCurrentDate(_0x33e645,_0x47b690);if(_0x465c96!=='No\x20classes\x20found.'){const _0x5d3aa5=findClassToDisplay(_0x465c96,_0x42fc9f);if(_0x5d3aa5){const _0x3831a1=_0x5d3aa5[_0x23c7ca(0xb4)],_0xb738ab=_0x5d3aa5['classTime'],_0x78302a=await fetchAndDisplayAttendees(_0x3831a1,_0x33e645,_0xb738ab);console[_0x23c7ca(0x76)](_0x23c7ca(0x9d)+_0x78302a[_0x23c7ca(0x75)]),_0x78302a&&showAttendees(_0x78302a),updateTitle(_0x5d3aa5[_0x23c7ca(0x77)],_0xb738ab,_0x33e645,_0x47b690);}else console[_0x23c7ca(0x76)](_0x23c7ca(0xa0));}else{console['log']('No\x20classes\x20found.');const _0x1ed44=document[_0x23c7ca(0x93)](_0x23c7ca(0x98));_0x1ed44[_0x23c7ca(0x80)]='';const _0x3a6529=document[_0x23c7ca(0x89)](_0x23c7ca(0x81));_0x3a6529[_0x23c7ca(0x6e)]='No\x20Class\x20found';}}async function findClassCurrentDate(_0x3bff5a,_0x1c59a6){const _0x4d6b76=a0_0x561ddd,_0x3a8f48={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x57537f=_0x3a8f48[_0x1c59a6];let _0x141e7c,_0x2cb7ea;_0x141e7c={'UserId':'','clubId':_0x57537f,'selectedDate':_0x3bff5a,'department':_0x4d6b76(0x99),'imageHeight':0x12c,'imageWidth':0x1f4},_0x2cb7ea='https://crossfit168.clubfit.net.au/api/v1/booking/search-classes-current-date';try{const _0x1d69e8=await makeApiRequest_noToken(_0x2cb7ea,_0x4d6b76(0xb3),_0x141e7c);return _0x1d69e8[_0x4d6b76(0x96)]&&_0x1d69e8[_0x4d6b76(0x96)][_0x4d6b76(0x95)]?(console[_0x4d6b76(0x76)](_0x4d6b76(0xa6)+_0x1d69e8[_0x4d6b76(0x96)][_0x4d6b76(0x95)]),_0x1d69e8['errors'][_0x4d6b76(0x95)]):_0x1d69e8['payload'];}catch(_0xcbcf52){console[_0x4d6b76(0x9c)](_0x4d6b76(0x7d),_0xcbcf52);}}function findClassToDisplay(_0x2a5a42,_0xde6911){const _0x14956a=a0_0x561ddd;console['log']('Finding\x20class\x20to\x20display...');_0xde6911==='Crossfit'?_0xde6911=[_0x14956a(0x88),_0x14956a(0x6d),_0x14956a(0x79),'Zone']:_0xde6911=[_0x14956a(0x94)];const _0x26d88b=new Date();let _0x152571=null,_0x14d3b3=Infinity;for(let _0x20d332=0x0;_0x20d332<_0x2a5a42['length'];_0x20d332++){let _0x118663=_0x2a5a42[_0x20d332];if(_0xde6911[_0x14956a(0x9f)](_0x118663['className'])){const [_0x37cb9e,_0x575334,_0xed06af]=_0x118663[_0x14956a(0xa9)]['split'](':')[_0x14956a(0x9a)](Number);let _0x541a18=new Date();_0x541a18['setHours'](_0x37cb9e,_0x575334,_0xed06af,0x0);let _0x162737=(_0x541a18-_0x26d88b)/(0x3e8*0x3c);console['log'](_0x14956a(0xad)+_0x118663[_0x14956a(0x77)]+':\x20'+_0x162737+_0x14956a(0xb0));if(_0x162737<=0x0&&_0x162737>=-parseInt(_0x118663[_0x14956a(0xa7)]))return console[_0x14956a(0x76)](_0x14956a(0x8b)+_0x118663[_0x14956a(0x77)]),_0x118663;if(_0x162737>0x0&&_0x162737<=0xa)return console['log'](_0x14956a(0x97)+_0x118663[_0x14956a(0x77)]),_0x118663;_0x162737>0xa&&_0x162737<_0x14d3b3&&(_0x14d3b3=_0x162737,_0x152571=_0x118663);}}return _0x152571?console[_0x14956a(0x76)](_0x14956a(0x92)+_0x152571['className']+'\x20in\x20'+_0x14d3b3+_0x14956a(0xb0)):console[_0x14956a(0x76)]('No\x20class\x20found\x20to\x20display'),_0x152571;}async function fetchAndDisplayAttendees(_0x2d5b04,_0x4c6ce5,_0x39ee86){const _0x38f3cd=a0_0x561ddd,_0x2b68a1=_0x38f3cd(0xa4),_0x2b55a0={'classScheduleId':_0x2d5b04,'selectedDate':_0x4c6ce5,'classTime':_0x39ee86};try{const _0x55d7b1=await makeApiRequest_noToken(_0x2b68a1,'POST',_0x2b55a0),_0x59eb00=_0x55d7b1[_0x38f3cd(0x73)];return _0x59eb00;}catch(_0x1b8ede){console[_0x38f3cd(0x9c)]('checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:',_0x1b8ede);}}function showAttendees(_0xc189ad){const _0x1d1bf2=a0_0x561ddd,_0x5ce335=document[_0x1d1bf2(0x93)]('.class-attendees');_0x5ce335[_0x1d1bf2(0x80)]='';let _0x237d4c=0x0;_0xc189ad[_0x1d1bf2(0x9b)](_0x2d334a=>{const _0x2a911c=_0x1d1bf2;console[_0x2a911c(0x76)]('todo:\x20re-add\x20filter\x20on\x20only\x20checked-in');if(_0x2d334a[_0x2a911c(0xab)]){_0x237d4c++;const _0x3cd8d9=document[_0x2a911c(0xb1)](_0x2a911c(0x78));_0x3cd8d9[_0x2a911c(0x6c)][_0x2a911c(0x82)](_0x2a911c(0x71));const _0x53dd80=document[_0x2a911c(0xb1)](_0x2a911c(0x74));_0x53dd80[_0x2a911c(0x9e)]=_0x2d334a[_0x2a911c(0x85)]||'https://clubfitassets.s3.ap-southeast-2.amazonaws.com/common/avatar_default.png',_0x53dd80[_0x2a911c(0x8f)]=_0x2d334a[_0x2a911c(0x69)],_0x53dd80[_0x2a911c(0x6c)]['add'](_0x2a911c(0xac));const _0x32de9f=document['createElement']('div');_0x32de9f[_0x2a911c(0x6c)]['add'](_0x2a911c(0x91)),_0x32de9f[_0x2a911c(0x6e)]=_0x2d334a[_0x2a911c(0x69)],_0x3cd8d9[_0x2a911c(0x7a)](_0x53dd80),_0x3cd8d9['appendChild'](_0x32de9f),_0x5ce335[_0x2a911c(0x7a)](_0x3cd8d9);}}),console[_0x1d1bf2(0x76)](_0x1d1bf2(0x90)+_0x237d4c);}async function makeApiRequest_noToken(_0x49bf87,_0x509077,_0x1bb244){const _0x1a7777=a0_0x561ddd,_0x21463d={'Content-Type':_0x1a7777(0x7b),'Accept':_0x1a7777(0x7b),'Authorization':'Bearer'},_0x430cf7={'method':_0x509077,'headers':_0x21463d,'body':JSON['stringify'](_0x1bb244)},_0x36a821=await fetch(_0x49bf87,_0x430cf7);if(!_0x36a821['ok'])throw new Error('HTTP\x20error!\x20status:\x20'+_0x36a821['status']);return await _0x36a821['json']();}function a0_0x410a(){const _0x8abb25=['1411208tBnQac','Current\x20class\x20happening:\x20','getTimezoneOffset','location','1358GJCbla','alt','Number\x20of\x20users\x20signed\x20in:\x20','name-attendee','No\x20current\x20or\x20immediate\x20upcoming\x20class\x20found.\x20Closest\x20upcoming\x20class:\x20','querySelector','Weightlifting','message','errors','Upcoming\x20class\x20within\x2010\x20minutes:\x20','.class-attendees','Member','map','forEach','error','Number\x20of\x20participants:\x20','src','includes','No\x20class\x20to\x20display','2877UPgzeI','752883PDBSKL','1500250DYqAfe','https://crossfit168.clubfit.net.au/api/v1/booking/class-participants','6971496IDJgEX','response.errors.message:\x20','classDuration','2529966SFtojf','classStartTime','getMonth','hasAttended','attendee-picture','Time\x20difference\x20for\x20','5ERJrXS','long','\x20minutes','createElement','split','POST','classScheduleId','fullName','ALX','en-AU','classList','Skill','textContent','Zone','DOMContentLoaded','attendee-class','toLocaleDateString','payload','img','length','log','className','div','Mobility','appendChild','application/json','pathname','Error\x20fetching\x20classes:','slice','1164132CNNiRB','innerHTML','title-coachview','add','24lRWZyT','getDate','memberPhotoLocation','toISOString','\x20-\x20','Crossfit','getElementById'];a0_0x410a=function(){return _0x8abb25;};return a0_0x410a();}function getLocalDate(){const _0x37d5d1=a0_0x561ddd,_0x28d4c6=new Date(),_0x15dd4c=_0x28d4c6[_0x37d5d1(0x8c)]()*0xea60,_0xa31827=new Date(_0x28d4c6-_0x15dd4c)[_0x37d5d1(0x86)]()[_0x37d5d1(0x7e)](0x0,0xa);return _0xa31827;}function a0_0xd222(_0x549598,_0x54af3a){const _0x410a61=a0_0x410a();return a0_0xd222=function(_0xd222f0,_0x40c55d){_0xd222f0=_0xd222f0-0x69;let _0x429343=_0x410a61[_0xd222f0];return _0x429343;},a0_0xd222(_0x549598,_0x54af3a);}function updateTitle(_0x538e95,_0x2151ef,_0x55e949,_0xbd9a83){const _0x499999=a0_0x561ddd,_0x2704bc=document[_0x499999(0x89)](_0x499999(0x81)),_0x208805=new Date(_0x55e949),_0x348d25=_0x208805[_0x499999(0x72)](_0x499999(0x6b),{'weekday':_0x499999(0xaf)}),_0x4cc2cc=_0x348d25+'\x20'+_0x208805[_0x499999(0x84)]()+'/'+(_0x208805[_0x499999(0xaa)]()+0x1),_0x5af35a=_0x538e95+'\x20'+_0x2151ef+_0x499999(0x87)+_0x4cc2cc+_0x499999(0x87)+_0xbd9a83;_0x2704bc['textContent']=_0x5af35a;}