const a0_0x7f4df6=a0_0x4e42;function a0_0x3a50(){const _0x42150b=['errors','https://crossfit168.clubfit.net.au/api/v1/booking/search-classes-current-date','110555yqsBFZ','slice','map','forEach','json','\x20-\x20','Error\x20fetching\x20classes:','addEventListener','classDuration','Mobility','querySelector','length','className','https://clubfitassets.s3.ap-southeast-2.amazonaws.com/common/avatar_default.png','HTTP\x20error!\x20status:\x20','add','classList','appendChild','innerHTML','3947748sxObTa','name-attendee','Number\x20of\x20users\x20signed\x20in:\x20','application/json','Bearer','Current\x20class\x20happening:\x20','Skill','pathname','toISOString','getElementById','checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:','92oEseUq','3987088nQOXNG','error','attendee-class','Finding\x20class\x20to\x20display...','div','stringify','219607zuwGbm','POST','split','Weightlifting','No\x20current\x20or\x20immediate\x20upcoming\x20class\x20found.\x20Closest\x20upcoming\x20class:\x20','getMonth','Time\x20difference\x20for\x20','Upcoming\x20class\x20within\x2010\x20minutes:\x20','en-AU','alt','12817320bJGmBi','getDate','No\x20Class\x20found','\x20in\x20','.class-attendees','getTimezoneOffset','1076418EBSduP','message','includes','textContent','response.errors.message:\x20','DOMContentLoaded','No\x20classes\x20found.','log','payload','classScheduleId','memberPhotoLocation','hasAttended','ALX','Member','createElement','233732sykZCC','img','href','status','\x20minutes','Zone','fullName','toLocaleDateString','todo:\x20re-add\x20filter\x20on\x20only\x20checked-in'];a0_0x3a50=function(){return _0x42150b;};return a0_0x3a50();}(function(_0x536e11,_0x49f3a8){const _0x5d6c7c=a0_0x4e42,_0x4b4b42=_0x536e11();while(!![]){try{const _0x1facfd=-parseInt(_0x5d6c7c(0x10f))/0x1+parseInt(_0x5d6c7c(0xdf))/0x2+parseInt(_0x5d6c7c(0x11f))/0x3+parseInt(_0x5d6c7c(0x108))/0x4*(parseInt(_0x5d6c7c(0xea))/0x5)+parseInt(_0x5d6c7c(0xfd))/0x6+parseInt(_0x5d6c7c(0x109))/0x7+-parseInt(_0x5d6c7c(0x119))/0x8;if(_0x1facfd===_0x49f3a8)break;else _0x4b4b42['push'](_0x4b4b42['shift']());}catch(_0x3ea886){_0x4b4b42['push'](_0x4b4b42['shift']());}}}(a0_0x3a50,0x5f36b),document[a0_0x7f4df6(0xf1)](a0_0x7f4df6(0x124),()=>{initializePage(),setInterval(()=>{initializePage();},0xea60);}));async function initializePage(){const _0x37c52b=a0_0x7f4df6,_0x543769=getLocalDate(),_0x3ee8f0=new URL(window['location'][_0x37c52b(0xe1)]),_0x4cb955=_0x3ee8f0[_0x37c52b(0x104)][_0x37c52b(0x111)]('-'),_0x28ccbf=_0x37c52b(0xdc),_0x3ad26f=_0x37c52b(0xe4),_0x44616f=await findClassCurrentDate(_0x543769,_0x28ccbf);if(_0x44616f!==_0x37c52b(0x125)){const _0x40c398=findClassToDisplay(_0x44616f,_0x3ad26f);if(_0x40c398){const _0xb8cb0d=_0x40c398[_0x37c52b(0x128)],_0x2a1620=_0x40c398['classTime'],_0x42e4ff=await fetchAndDisplayAttendees(_0xb8cb0d,_0x543769,_0x2a1620);console[_0x37c52b(0x126)]('Number\x20of\x20participants:\x20'+_0x42e4ff[_0x37c52b(0xf5)]),_0x42e4ff&&showAttendees(_0x42e4ff),updateTitle(_0x40c398[_0x37c52b(0xf6)],_0x2a1620,_0x543769,_0x28ccbf);}else console[_0x37c52b(0x126)]('No\x20class\x20to\x20display');}else{console[_0x37c52b(0x126)](_0x37c52b(0x125));const _0x42961e=document[_0x37c52b(0xf4)](_0x37c52b(0x11d));_0x42961e[_0x37c52b(0xfc)]='';const _0x49a8b9=document[_0x37c52b(0x106)]('title-coachview');_0x49a8b9[_0x37c52b(0x122)]=_0x37c52b(0x11b);}}async function findClassCurrentDate(_0x2addb4,_0x508dd0){const _0x223fe3=a0_0x7f4df6,_0x5160f6={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x5d6f94=_0x5160f6[_0x508dd0];let _0x567d47,_0x3158c8;_0x567d47={'UserId':'','clubId':_0x5d6f94,'selectedDate':_0x2addb4,'department':_0x223fe3(0xdd),'imageHeight':0x12c,'imageWidth':0x1f4},_0x3158c8=_0x223fe3(0xe9);try{const _0x34e4f0=await makeApiRequest_noToken(_0x3158c8,_0x223fe3(0x110),_0x567d47);return _0x34e4f0[_0x223fe3(0xe8)]&&_0x34e4f0[_0x223fe3(0xe8)]['message']?(console['log'](_0x223fe3(0x123)+_0x34e4f0[_0x223fe3(0xe8)][_0x223fe3(0x120)]),_0x34e4f0[_0x223fe3(0xe8)][_0x223fe3(0x120)]):_0x34e4f0[_0x223fe3(0x127)];}catch(_0x313acc){console['error'](_0x223fe3(0xf0),_0x313acc);}}function findClassToDisplay(_0xbb76e1,_0x5302b8){const _0x2e4579=a0_0x7f4df6;console[_0x2e4579(0x126)](_0x2e4579(0x10c));_0x5302b8==='Crossfit'?_0x5302b8=['Crossfit',_0x2e4579(0x103),_0x2e4579(0xf3),_0x2e4579(0xe4)]:_0x5302b8=[_0x2e4579(0x112)];const _0x422753=new Date();let _0xf85a66=null,_0x4eaa29=Infinity;for(let _0x5d7cae=0x0;_0x5d7cae<_0xbb76e1[_0x2e4579(0xf5)];_0x5d7cae++){let _0x11866d=_0xbb76e1[_0x5d7cae];if(_0x5302b8[_0x2e4579(0x121)](_0x11866d[_0x2e4579(0xf6)])){const [_0x516567,_0x2c31be,_0x4258ca]=_0x11866d['classStartTime'][_0x2e4579(0x111)](':')[_0x2e4579(0xec)](Number);let _0x522e2b=new Date();_0x522e2b['setHours'](_0x516567,_0x2c31be,_0x4258ca,0x0);let _0x1e3169=(_0x522e2b-_0x422753)/(0x3e8*0x3c);console['log'](_0x2e4579(0x115)+_0x11866d[_0x2e4579(0xf6)]+':\x20'+_0x1e3169+_0x2e4579(0xe3));if(_0x1e3169<=0x0&&_0x1e3169>=-parseInt(_0x11866d[_0x2e4579(0xf2)]))return console[_0x2e4579(0x126)](_0x2e4579(0x102)+_0x11866d[_0x2e4579(0xf6)]),_0x11866d;if(_0x1e3169>0x0&&_0x1e3169<=0xa)return console[_0x2e4579(0x126)](_0x2e4579(0x116)+_0x11866d['className']),_0x11866d;_0x1e3169>0xa&&_0x1e3169<_0x4eaa29&&(_0x4eaa29=_0x1e3169,_0xf85a66=_0x11866d);}}return _0xf85a66?console[_0x2e4579(0x126)](_0x2e4579(0x113)+_0xf85a66[_0x2e4579(0xf6)]+_0x2e4579(0x11c)+_0x4eaa29+'\x20minutes'):console[_0x2e4579(0x126)]('No\x20class\x20found\x20to\x20display'),_0xf85a66;}async function fetchAndDisplayAttendees(_0x1a2a1f,_0x27d83b,_0x20bee7){const _0x275c1c=a0_0x7f4df6,_0x388ec1='https://crossfit168.clubfit.net.au/api/v1/booking/class-participants',_0x205985={'classScheduleId':_0x1a2a1f,'selectedDate':_0x27d83b,'classTime':_0x20bee7};try{const _0x419f74=await makeApiRequest_noToken(_0x388ec1,_0x275c1c(0x110),_0x205985),_0x10fcdf=_0x419f74[_0x275c1c(0x127)];return _0x10fcdf;}catch(_0x1e72ca){console[_0x275c1c(0x10a)](_0x275c1c(0x107),_0x1e72ca);}}function a0_0x4e42(_0x3b49c4,_0x30f248){const _0x3a50b8=a0_0x3a50();return a0_0x4e42=function(_0x4e42cb,_0x2ffeef){_0x4e42cb=_0x4e42cb-0xda;let _0x36b653=_0x3a50b8[_0x4e42cb];return _0x36b653;},a0_0x4e42(_0x3b49c4,_0x30f248);}function showAttendees(_0x590c1b){const _0x11c035=a0_0x7f4df6,_0x1d8958=document[_0x11c035(0xf4)](_0x11c035(0x11d));_0x1d8958['innerHTML']='';let _0x3c47c0=0x0;_0x590c1b[_0x11c035(0xed)](_0x1b514f=>{const _0x26bf97=_0x11c035;console[_0x26bf97(0x126)](_0x26bf97(0xe7));if(_0x1b514f[_0x26bf97(0xdb)]){_0x3c47c0++;const _0x1bd55b=document[_0x26bf97(0xde)](_0x26bf97(0x10d));_0x1bd55b['classList'][_0x26bf97(0xf9)](_0x26bf97(0x10b));const _0x4c7204=document[_0x26bf97(0xde)](_0x26bf97(0xe0));_0x4c7204['src']=_0x1b514f[_0x26bf97(0xda)]||_0x26bf97(0xf7),_0x4c7204[_0x26bf97(0x118)]=_0x1b514f['fullName'],_0x4c7204[_0x26bf97(0xfa)][_0x26bf97(0xf9)]('attendee-picture');const _0xfc3dc6=document[_0x26bf97(0xde)](_0x26bf97(0x10d));_0xfc3dc6[_0x26bf97(0xfa)]['add'](_0x26bf97(0xfe)),_0xfc3dc6[_0x26bf97(0x122)]=_0x1b514f[_0x26bf97(0xe5)],_0x1bd55b[_0x26bf97(0xfb)](_0x4c7204),_0x1bd55b['appendChild'](_0xfc3dc6),_0x1d8958[_0x26bf97(0xfb)](_0x1bd55b);}}),console[_0x11c035(0x126)](_0x11c035(0xff)+_0x3c47c0);}async function makeApiRequest_noToken(_0x4f0d16,_0x4b1b56,_0x4b0efd){const _0x448edc=a0_0x7f4df6,_0x4bde78={'Content-Type':_0x448edc(0x100),'Accept':_0x448edc(0x100),'Authorization':_0x448edc(0x101)},_0x13f302={'method':_0x4b1b56,'headers':_0x4bde78,'body':JSON[_0x448edc(0x10e)](_0x4b0efd)},_0x28f8cc=await fetch(_0x4f0d16,_0x13f302);if(!_0x28f8cc['ok'])throw new Error(_0x448edc(0xf8)+_0x28f8cc[_0x448edc(0xe2)]);return await _0x28f8cc[_0x448edc(0xee)]();}function getLocalDate(){const _0x880922=a0_0x7f4df6,_0x1a7f55=new Date(),_0xf201f3=_0x1a7f55[_0x880922(0x11e)]()*0xea60,_0xc46fae=new Date(_0x1a7f55-_0xf201f3)[_0x880922(0x105)]()[_0x880922(0xeb)](0x0,0xa);return _0xc46fae;}function updateTitle(_0x459fda,_0x18d61d,_0x50a78e,_0x255072){const _0x587c82=a0_0x7f4df6,_0x26afe3=document[_0x587c82(0x106)]('title-coachview'),_0x5ca1c1=new Date(_0x50a78e),_0x5c070e=_0x5ca1c1[_0x587c82(0xe6)](_0x587c82(0x117),{'weekday':'long'}),_0x567073=_0x5c070e+'\x20'+_0x5ca1c1[_0x587c82(0x11a)]()+'/'+(_0x5ca1c1[_0x587c82(0x114)]()+0x1),_0x27fe15=_0x459fda+'\x20'+_0x18d61d+_0x587c82(0xef)+_0x567073+_0x587c82(0xef)+_0x255072;_0x26afe3[_0x587c82(0x122)]=_0x27fe15;}