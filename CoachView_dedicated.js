const a0_0x5ada83=a0_0x5714;(function(_0xba449,_0x4f3112){const _0x1559b4=a0_0x5714,_0x3340ac=_0xba449();while(!![]){try{const _0x51a4db=-parseInt(_0x1559b4(0xe8))/0x1*(parseInt(_0x1559b4(0xe0))/0x2)+parseInt(_0x1559b4(0x10b))/0x3*(-parseInt(_0x1559b4(0xea))/0x4)+parseInt(_0x1559b4(0xe9))/0x5*(parseInt(_0x1559b4(0xfc))/0x6)+parseInt(_0x1559b4(0x10f))/0x7+-parseInt(_0x1559b4(0xeb))/0x8+parseInt(_0x1559b4(0x102))/0x9*(-parseInt(_0x1559b4(0x105))/0xa)+parseInt(_0x1559b4(0xfd))/0xb*(parseInt(_0x1559b4(0xf8))/0xc);if(_0x51a4db===_0x4f3112)break;else _0x3340ac['push'](_0x3340ac['shift']());}catch(_0x43877a){_0x3340ac['push'](_0x3340ac['shift']());}}}(a0_0xc9a3,0xbb4a2),document[a0_0x5ada83(0x124)]('DOMContentLoaded',()=>{initializePage(),setInterval(()=>{initializePage();},0xea60);}));function a0_0xc9a3(){const _0xe18d1f=['fullName','memberPhotoLocation','error','addEventListener','title-coachview','Time\x20difference\x20for\x20','\x20-\x20','https://crossfit168.clubfit.net.au/api/v1/booking/search-classes-current-date','classList','getMonth','No\x20classes\x20found.','log','2ofhQdn','getElementById','className','innerHTML','slice','toLocaleDateString','message','Crossfit','1349189rpaozN','5AQNnbQ','2148PwoLOt','6774784FfzCwt','Bearer','getTimezoneOffset','Number\x20of\x20participants:\x20','textContent','add','.class-attendees','alt','toISOString','includes','No\x20class\x20found\x20to\x20display','Weightlifting','errors','45035832xGNaxe','stringify','en-AU','Upcoming\x20class\x20within\x2010\x20minutes:\x20','4900938bWfXYS','11woOEgQ','POST','length','attendee-class','HTTP\x20error!\x20status:\x20','9981rqjIOZ','\x20in\x20','No\x20class\x20to\x20display','4960uyqcBA','createElement','src','Number\x20of\x20users\x20signed\x20in:\x20','application/json','forEach','8259RzcTGf','appendChild','No\x20current\x20or\x20immediate\x20upcoming\x20class\x20found.\x20Closest\x20upcoming\x20class:\x20','querySelector','2952537msqPTR','div','classScheduleId','Zone','todo:\x20re-add\x20filter\x20on\x20only\x20checked-in','split','response.errors.message:\x20','\x20minutes','pathname','setHours','Finding\x20class\x20to\x20display...','https://clubfitassets.s3.ap-southeast-2.amazonaws.com/common/avatar_default.png','hasAttended','getDate','payload','classStartTime','json','https://crossfit168.clubfit.net.au/api/v1/booking/class-participants'];a0_0xc9a3=function(){return _0xe18d1f;};return a0_0xc9a3();}function a0_0x5714(_0x469129,_0x3f3a89){const _0xc9a316=a0_0xc9a3();return a0_0x5714=function(_0x57142f,_0xc7ed68){_0x57142f=_0x57142f-0xdf;let _0x4facef=_0xc9a316[_0x57142f];return _0x4facef;},a0_0x5714(_0x469129,_0x3f3a89);}async function initializePage(){const _0x13416c=a0_0x5ada83,_0x24fe7c=getLocalDate(),_0x31816e=new URL(window['location']['href']),_0x4ae842=_0x31816e[_0x13416c(0x117)][_0x13416c(0x114)]('-'),_0x5f0a64='ALX',_0x1cabc6=_0x13416c(0x112),_0x4001b1=await findClassCurrentDate(_0x24fe7c,_0x5f0a64);if(_0x4001b1!==_0x13416c(0x12b)){const _0xe81b6a=findClassToDisplay(_0x4001b1,_0x1cabc6);if(_0xe81b6a){const _0x5ce753=_0xe81b6a[_0x13416c(0x111)],_0x1ef2db=_0xe81b6a['classTime'],_0x2e6fdc=await fetchAndDisplayAttendees(_0x5ce753,_0x24fe7c,_0x1ef2db);console[_0x13416c(0xdf)](_0x13416c(0xee)+_0x2e6fdc['length']),_0x2e6fdc&&showAttendees(_0x2e6fdc),updateTitle(_0xe81b6a[_0x13416c(0xe2)],_0x1ef2db,_0x24fe7c,_0x5f0a64);}else console[_0x13416c(0xdf)](_0x13416c(0x104));}else{console[_0x13416c(0xdf)](_0x13416c(0x12b));const _0x26f789=document[_0x13416c(0x10e)]('.class-attendees');_0x26f789[_0x13416c(0xe3)]='';const _0x1e9f92=document[_0x13416c(0xe1)](_0x13416c(0x125));_0x1e9f92['textContent']='No\x20Class\x20found';}}async function findClassCurrentDate(_0x3b4730,_0x1a4456){const _0x2f035d=a0_0x5ada83,_0x1b755b={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x5dfde8=_0x1b755b[_0x1a4456];let _0x21b891,_0x383884;_0x21b891={'UserId':'','clubId':_0x5dfde8,'selectedDate':_0x3b4730,'department':'Member','imageHeight':0x12c,'imageWidth':0x1f4},_0x383884=_0x2f035d(0x128);try{const _0x5b9943=await makeApiRequest_noToken(_0x383884,'POST',_0x21b891);return _0x5b9943[_0x2f035d(0xf7)]&&_0x5b9943[_0x2f035d(0xf7)]['message']?(console[_0x2f035d(0xdf)](_0x2f035d(0x115)+_0x5b9943['errors'][_0x2f035d(0xe6)]),_0x5b9943[_0x2f035d(0xf7)][_0x2f035d(0xe6)]):_0x5b9943[_0x2f035d(0x11d)];}catch(_0x45aa42){console[_0x2f035d(0x123)]('Error\x20fetching\x20classes:',_0x45aa42);}}function findClassToDisplay(_0x27e5a8,_0x2fef2b){const _0x3ece07=a0_0x5ada83;console[_0x3ece07(0xdf)](_0x3ece07(0x119));_0x2fef2b===_0x3ece07(0xe7)?_0x2fef2b=[_0x3ece07(0xe7),'Skill','Mobility','Zone']:_0x2fef2b=[_0x3ece07(0xf6)];const _0x21439a=new Date();let _0x23e47b=null,_0x253311=Infinity;for(let _0x21c3d7=0x0;_0x21c3d7<_0x27e5a8[_0x3ece07(0xff)];_0x21c3d7++){let _0x32dd25=_0x27e5a8[_0x21c3d7];if(_0x2fef2b[_0x3ece07(0xf4)](_0x32dd25['className'])){const [_0x4bd97b,_0x53de4e,_0x11e07d]=_0x32dd25[_0x3ece07(0x11e)][_0x3ece07(0x114)](':')['map'](Number);let _0x67ce79=new Date();_0x67ce79[_0x3ece07(0x118)](_0x4bd97b,_0x53de4e,_0x11e07d,0x0);let _0x573032=(_0x67ce79-_0x21439a)/(0x3e8*0x3c);console[_0x3ece07(0xdf)](_0x3ece07(0x126)+_0x32dd25['className']+':\x20'+_0x573032+'\x20minutes');if(_0x573032<=0x0&&_0x573032>=-parseInt(_0x32dd25['classDuration']))return console['log']('Current\x20class\x20happening:\x20'+_0x32dd25['className']),_0x32dd25;if(_0x573032>0x0&&_0x573032<=0xa)return console['log'](_0x3ece07(0xfb)+_0x32dd25['className']),_0x32dd25;_0x573032>0xa&&_0x573032<_0x253311&&(_0x253311=_0x573032,_0x23e47b=_0x32dd25);}}return _0x23e47b?console[_0x3ece07(0xdf)](_0x3ece07(0x10d)+_0x23e47b['className']+_0x3ece07(0x103)+_0x253311+_0x3ece07(0x116)):console[_0x3ece07(0xdf)](_0x3ece07(0xf5)),_0x23e47b;}async function fetchAndDisplayAttendees(_0x25624a,_0xd99d28,_0x286b87){const _0x5a216d=a0_0x5ada83,_0x4c93f2=_0x5a216d(0x120),_0x10ad82={'classScheduleId':_0x25624a,'selectedDate':_0xd99d28,'classTime':_0x286b87};try{const _0x166b93=await makeApiRequest_noToken(_0x4c93f2,_0x5a216d(0xfe),_0x10ad82),_0x5d3931=_0x166b93[_0x5a216d(0x11d)];return _0x5d3931;}catch(_0x37432d){console[_0x5a216d(0x123)]('checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:',_0x37432d);}}function showAttendees(_0x9ef57f){const _0x4cc95e=a0_0x5ada83,_0x44e68e=document['querySelector'](_0x4cc95e(0xf1));_0x44e68e[_0x4cc95e(0xe3)]='';let _0x46c253=0x0;_0x9ef57f[_0x4cc95e(0x10a)](_0x5f2554=>{const _0x199673=_0x4cc95e;console[_0x199673(0xdf)](_0x199673(0x113));if(_0x5f2554[_0x199673(0x11b)]){_0x46c253++;const _0x3f6650=document[_0x199673(0x106)](_0x199673(0x110));_0x3f6650[_0x199673(0x129)][_0x199673(0xf0)](_0x199673(0x100));const _0x458089=document[_0x199673(0x106)]('img');_0x458089[_0x199673(0x107)]=_0x5f2554[_0x199673(0x122)]||_0x199673(0x11a),_0x458089[_0x199673(0xf2)]=_0x5f2554[_0x199673(0x121)],_0x458089[_0x199673(0x129)][_0x199673(0xf0)]('attendee-picture');const _0x433aa7=document['createElement'](_0x199673(0x110));_0x433aa7[_0x199673(0x129)][_0x199673(0xf0)]('name-attendee'),_0x433aa7[_0x199673(0xef)]=_0x5f2554['fullName'],_0x3f6650[_0x199673(0x10c)](_0x458089),_0x3f6650[_0x199673(0x10c)](_0x433aa7),_0x44e68e[_0x199673(0x10c)](_0x3f6650);}}),console['log'](_0x4cc95e(0x108)+_0x46c253);}async function makeApiRequest_noToken(_0x38a938,_0x30088d,_0x1d479e){const _0x51738c=a0_0x5ada83,_0x3b4e91={'Content-Type':_0x51738c(0x109),'Accept':'application/json','Authorization':_0x51738c(0xec)},_0x1ae626={'method':_0x30088d,'headers':_0x3b4e91,'body':JSON[_0x51738c(0xf9)](_0x1d479e)},_0x4dadaf=await fetch(_0x38a938,_0x1ae626);if(!_0x4dadaf['ok'])throw new Error(_0x51738c(0x101)+_0x4dadaf['status']);return await _0x4dadaf[_0x51738c(0x11f)]();}function getLocalDate(){const _0x2659f7=a0_0x5ada83,_0xa7245f=new Date(),_0x32e41f=_0xa7245f[_0x2659f7(0xed)]()*0xea60,_0xfdf7c7=new Date(_0xa7245f-_0x32e41f)[_0x2659f7(0xf3)]()[_0x2659f7(0xe4)](0x0,0xa);return _0xfdf7c7;}function updateTitle(_0x22e499,_0x46c11a,_0x197324,_0x23dca1){const _0x29eb30=a0_0x5ada83,_0x2a6143=document['getElementById'](_0x29eb30(0x125)),_0x424e57=new Date(_0x197324),_0x32462b=_0x424e57[_0x29eb30(0xe5)](_0x29eb30(0xfa),{'weekday':'long'}),_0x468789=_0x32462b+'\x20'+_0x424e57[_0x29eb30(0x11c)]()+'/'+(_0x424e57[_0x29eb30(0x12a)]()+0x1),_0x345f12=_0x22e499+'\x20'+_0x46c11a+'\x20-\x20'+_0x468789+_0x29eb30(0x127)+_0x23dca1;_0x2a6143['textContent']=_0x345f12;}