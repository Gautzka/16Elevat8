const a0_0x411938=a0_0x35ea;function a0_0x4f23(){const _0x379f68=['checkAttendees\x20-\x20Error\x20while\x20checking\x20attendees:','DOMContentLoaded','Finding\x20class\x20to\x20display...','log','pathname','Time\x20difference\x20for\x20','errors','title-coachview','toLocaleDateString','16341zyprDK','fullName','classList','Current\x20class\x20happening:\x20','memberPhotoLocation','getDate','\x20-\x20','classDuration','https://crossfit168.clubfit.net.au/api/v1/booking/class-participants','No\x20classes\x20found.','2874Bxruid','840223dybEXK','alt','\x20minutes','stringify','https://crossfit168.clubfit.net.au/api/v1/booking/search-classes-current-date','application/json','ALX','14paWaPq','Error\x20fetching\x20classes:','slice','forEach','No\x20Class\x20found','getElementById','payload','createElement','5270xcUGhx','2ZCaazO','Crossfit','setHours','No\x20current\x20or\x20immediate\x20upcoming\x20class\x20found.\x20Closest\x20upcoming\x20class:\x20','3035HkQaEy','39588jzEdbT','1996fYSjoV','Bearer','appendChild','Member','href','4238232BaYNtM','Skill','split','map','innerHTML','attendee-picture','message','textContent','error','Upcoming\x20class\x20within\x2010\x20minutes:\x20','hasAttended','location','11238WlrSgq','HTTP\x20error!\x20status:\x20','9866197wLjUxy','querySelector','.class-attendees','getTimezoneOffset','Weightlifting','classTime','todo:\x20re-add\x20filter\x20on\x20only\x20checked-in','includes','Number\x20of\x20users\x20signed\x20in:\x20','img','Zone','json','20952KQnDMo','classScheduleId','status','className','POST','length','add'];a0_0x4f23=function(){return _0x379f68;};return a0_0x4f23();}(function(_0x217046,_0x1e92ea){const _0x5db15c=a0_0x35ea,_0x2938bc=_0x217046();while(!![]){try{const _0x853444=-parseInt(_0x5db15c(0x11e))/0x1*(parseInt(_0x5db15c(0xde))/0x2)+parseInt(_0x5db15c(0x11d))/0x3*(-parseInt(_0x5db15c(0xe4))/0x4)+-parseInt(_0x5db15c(0xe2))/0x5*(parseInt(_0x5db15c(0xf5))/0x6)+parseInt(_0x5db15c(0x125))/0x7*(parseInt(_0x5db15c(0xe9))/0x8)+-parseInt(_0x5db15c(0x103))/0x9*(parseInt(_0x5db15c(0xdd))/0xa)+-parseInt(_0x5db15c(0xf7))/0xb+-parseInt(_0x5db15c(0xe3))/0xc*(-parseInt(_0x5db15c(0x113))/0xd);if(_0x853444===_0x1e92ea)break;else _0x2938bc['push'](_0x2938bc['shift']());}catch(_0x2a1282){_0x2938bc['push'](_0x2938bc['shift']());}}}(a0_0x4f23,0x992f2),document['addEventListener'](a0_0x411938(0x10b),()=>{initializePage(),setInterval(()=>{initializePage();},0xea60);}));async function initializePage(){const _0x3895ce=a0_0x411938,_0x5a87ae=getLocalDate(),_0x493424=new URL(window[_0x3895ce(0xf4)][_0x3895ce(0xe8)]),_0x30b74c=_0x493424[_0x3895ce(0x10e)][_0x3895ce(0xeb)]('-'),_0x2f932c=_0x3895ce(0x124),_0x67f804=_0x3895ce(0x101),_0x5d53aa=await findClassCurrentDate(_0x5a87ae,_0x2f932c);if(_0x5d53aa!==_0x3895ce(0x11c)){const _0x327d9f=findClassToDisplay(_0x5d53aa,_0x67f804);if(_0x327d9f){const _0x4df41e=_0x327d9f[_0x3895ce(0x104)],_0xe983a7=_0x327d9f[_0x3895ce(0xfc)],_0x2e72f2=await fetchAndDisplayAttendees(_0x4df41e,_0x5a87ae,_0xe983a7);console[_0x3895ce(0x10d)]('Number\x20of\x20participants:\x20'+_0x2e72f2[_0x3895ce(0x108)]),_0x2e72f2&&showAttendees(_0x2e72f2),updateTitle(_0x327d9f[_0x3895ce(0x106)],_0xe983a7,_0x5a87ae,_0x2f932c);}else console[_0x3895ce(0x10d)]('No\x20class\x20to\x20display');}else{console['log'](_0x3895ce(0x11c));const _0x39efc1=document[_0x3895ce(0xf8)](_0x3895ce(0xf9));_0x39efc1['innerHTML']='';const _0x513fac=document[_0x3895ce(0xda)](_0x3895ce(0x111));_0x513fac['textContent']=_0x3895ce(0xd9);}}async function findClassCurrentDate(_0x2620a4,_0x120d92){const _0x9d27ae=a0_0x411938,_0x1a2b9c={'ALX':0x2,'CBD':0x1,'MVL':0x4},_0x2389d0=_0x1a2b9c[_0x120d92];let _0x4d105b,_0x1e0f6e;_0x4d105b={'UserId':'','clubId':_0x2389d0,'selectedDate':_0x2620a4,'department':_0x9d27ae(0xe7),'imageHeight':0x12c,'imageWidth':0x1f4},_0x1e0f6e=_0x9d27ae(0x122);try{const _0x54ad01=await makeApiRequest_noToken(_0x1e0f6e,'POST',_0x4d105b);return _0x54ad01[_0x9d27ae(0x110)]&&_0x54ad01[_0x9d27ae(0x110)]['message']?(console[_0x9d27ae(0x10d)]('response.errors.message:\x20'+_0x54ad01[_0x9d27ae(0x110)]['message']),_0x54ad01[_0x9d27ae(0x110)][_0x9d27ae(0xef)]):_0x54ad01[_0x9d27ae(0xdb)];}catch(_0xb883a2){console['error'](_0x9d27ae(0xd6),_0xb883a2);}}function findClassToDisplay(_0x446bf4,_0x3a4a27){const _0x17808d=a0_0x411938;console[_0x17808d(0x10d)](_0x17808d(0x10c));_0x3a4a27===_0x17808d(0xdf)?_0x3a4a27=[_0x17808d(0xdf),_0x17808d(0xea),'Mobility',_0x17808d(0x101)]:_0x3a4a27=[_0x17808d(0xfb)];const _0x6eef78=new Date();let _0x3e95e3=null,_0x8d2abf=Infinity;for(let _0x3a5f85=0x0;_0x3a5f85<_0x446bf4[_0x17808d(0x108)];_0x3a5f85++){let _0x4dc217=_0x446bf4[_0x3a5f85];if(_0x3a4a27[_0x17808d(0xfe)](_0x4dc217[_0x17808d(0x106)])){const [_0x1e81d1,_0x32cd5d,_0x1c3aca]=_0x4dc217['classStartTime'][_0x17808d(0xeb)](':')[_0x17808d(0xec)](Number);let _0x24e423=new Date();_0x24e423[_0x17808d(0xe0)](_0x1e81d1,_0x32cd5d,_0x1c3aca,0x0);let _0x1f35a1=(_0x24e423-_0x6eef78)/(0x3e8*0x3c);console['log'](_0x17808d(0x10f)+_0x4dc217['className']+':\x20'+_0x1f35a1+'\x20minutes');if(_0x1f35a1<=0x0&&_0x1f35a1>=-parseInt(_0x4dc217[_0x17808d(0x11a)]))return console[_0x17808d(0x10d)](_0x17808d(0x116)+_0x4dc217[_0x17808d(0x106)]),_0x4dc217;if(_0x1f35a1>0x0&&_0x1f35a1<=0xa)return console[_0x17808d(0x10d)](_0x17808d(0xf2)+_0x4dc217[_0x17808d(0x106)]),_0x4dc217;_0x1f35a1>0xa&&_0x1f35a1<_0x8d2abf&&(_0x8d2abf=_0x1f35a1,_0x3e95e3=_0x4dc217);}}return _0x3e95e3?console['log'](_0x17808d(0xe1)+_0x3e95e3[_0x17808d(0x106)]+'\x20in\x20'+_0x8d2abf+_0x17808d(0x120)):console[_0x17808d(0x10d)]('No\x20class\x20found\x20to\x20display'),_0x3e95e3;}async function fetchAndDisplayAttendees(_0x221334,_0x5f0264,_0x113f71){const _0x29e200=a0_0x411938,_0xba6bb7=_0x29e200(0x11b),_0x3874f4={'classScheduleId':_0x221334,'selectedDate':_0x5f0264,'classTime':_0x113f71};try{const _0x116e29=await makeApiRequest_noToken(_0xba6bb7,_0x29e200(0x107),_0x3874f4),_0x4cf070=_0x116e29[_0x29e200(0xdb)];return _0x4cf070;}catch(_0x1b9448){console[_0x29e200(0xf1)](_0x29e200(0x10a),_0x1b9448);}}function showAttendees(_0x15e095){const _0x2197c9=a0_0x411938,_0x475713=document[_0x2197c9(0xf8)](_0x2197c9(0xf9));_0x475713[_0x2197c9(0xed)]='';let _0xe387d5=0x0;_0x15e095[_0x2197c9(0xd8)](_0xe3a4d=>{const _0x4814a0=_0x2197c9;console[_0x4814a0(0x10d)](_0x4814a0(0xfd));if(_0xe3a4d[_0x4814a0(0xf3)]){_0xe387d5++;const _0x41b090=document[_0x4814a0(0xdc)]('div');_0x41b090[_0x4814a0(0x115)][_0x4814a0(0x109)]('attendee-class');const _0x4199bd=document[_0x4814a0(0xdc)](_0x4814a0(0x100));_0x4199bd['src']=_0xe3a4d[_0x4814a0(0x117)]||'https://clubfitassets.s3.ap-southeast-2.amazonaws.com/common/avatar_default.png',_0x4199bd[_0x4814a0(0x11f)]=_0xe3a4d[_0x4814a0(0x114)],_0x4199bd[_0x4814a0(0x115)][_0x4814a0(0x109)](_0x4814a0(0xee));const _0x1783ec=document[_0x4814a0(0xdc)]('div');_0x1783ec[_0x4814a0(0x115)]['add']('name-attendee'),_0x1783ec[_0x4814a0(0xf0)]=_0xe3a4d[_0x4814a0(0x114)],_0x41b090[_0x4814a0(0xe6)](_0x4199bd),_0x41b090[_0x4814a0(0xe6)](_0x1783ec),_0x475713['appendChild'](_0x41b090);}}),console[_0x2197c9(0x10d)](_0x2197c9(0xff)+_0xe387d5);}async function makeApiRequest_noToken(_0x1e0eb9,_0xdce99b,_0xb521b){const _0x5eedc9=a0_0x411938,_0x5403f9={'Content-Type':'application/json','Accept':_0x5eedc9(0x123),'Authorization':_0x5eedc9(0xe5)},_0x3836bc={'method':_0xdce99b,'headers':_0x5403f9,'body':JSON[_0x5eedc9(0x121)](_0xb521b)},_0x4d6aa1=await fetch(_0x1e0eb9,_0x3836bc);if(!_0x4d6aa1['ok'])throw new Error(_0x5eedc9(0xf6)+_0x4d6aa1[_0x5eedc9(0x105)]);return await _0x4d6aa1[_0x5eedc9(0x102)]();}function a0_0x35ea(_0x483204,_0x497886){const _0x4f2337=a0_0x4f23();return a0_0x35ea=function(_0x35eab8,_0x10b2b8){_0x35eab8=_0x35eab8-0xd6;let _0x28ca6e=_0x4f2337[_0x35eab8];return _0x28ca6e;},a0_0x35ea(_0x483204,_0x497886);}function getLocalDate(){const _0x54da49=a0_0x411938,_0x576b87=new Date(),_0x5ffcb3=_0x576b87[_0x54da49(0xfa)]()*0xea60,_0x237779=new Date(_0x576b87-_0x5ffcb3)['toISOString']()[_0x54da49(0xd7)](0x0,0xa);return _0x237779;}function updateTitle(_0x2c1424,_0x2484b1,_0x16a9f4,_0x2c8f3e){const _0x1b24e3=a0_0x411938,_0x530a27=document[_0x1b24e3(0xda)](_0x1b24e3(0x111)),_0x35f8ae=new Date(_0x16a9f4),_0x12854d=_0x35f8ae[_0x1b24e3(0x112)]('en-AU',{'weekday':'long'}),_0x1b2e07=_0x12854d+'\x20'+_0x35f8ae[_0x1b24e3(0x118)]()+'/'+(_0x35f8ae['getMonth']()+0x1),_0x1a1f13=_0x2c1424+'\x20'+_0x2484b1+_0x1b24e3(0x119)+_0x1b2e07+'\x20-\x20'+_0x2c8f3e;_0x530a27[_0x1b24e3(0xf0)]=_0x1a1f13;}